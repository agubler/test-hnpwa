{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///src/main.js","webpack:///webpack/bootstrap b0ca888b59908050bef6","webpack:///d.ts","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///WidgetBase.ts","webpack:///Registry.ts","webpack:///Evented.ts","webpack:///Container.ts","webpack:///handleDecorator.ts","webpack:///has.ts","webpack:///vdom.ts","webpack:///sw.ts","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///btr.ts","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/process/browser.js","webpack:///./src/main.ts","webpack:///Projector.ts","webpack:///afterRender.ts","webpack:///./src/Context.ts","webpack:///Injector.ts","webpack:///./src/containers/AppContainer.ts","webpack:///diff.ts","webpack:///RegistryHandler.ts","webpack:///NodeHandler.ts","webpack:///inject.ts","webpack:///beforeProperties.ts","webpack:///./src/widgets/App.ts","webpack:///./src/containers/ContentContainer.ts","webpack:///./src/widgets/Content.ts","webpack:///./src/widgets/Article.ts","webpack:///./src/widgets/styles/article.m.css?7877","webpack:///./src/widgets/styles/content.m.css?f89a","webpack:///./src/containers/CommentsContainer.ts","webpack:///./src/widgets/Comments.ts","webpack:///./src/widgets/Comment.ts","webpack:///./src/widgets/styles/comment.m.css?1d4b","webpack:///./src/widgets/Loading.ts","webpack:///./src/widgets/styles/loading.m.css?06eb","webpack:///./src/widgets/styles/comments.m.css?fc03","webpack:///./src/containers/MenuContainer.ts","webpack:///./src/widgets/Menu.ts","webpack:///./src/widgets/MenuItem.ts","webpack:///./src/widgets/styles/menuItem.m.css?33f5","webpack:///./src/widgets/styles/menu.m.css?9267","webpack:///./src/widgets/styles/app.m.css?7ef0"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","isWNode","child","Boolean","type","WNODE","isHNode","HNODE","decorate","dNodes","modifier","predicate","nodes","Array","isArray","tslib_1","__spread","length","node","pop","children","w","widgetConstructor","properties","v","tag","propertiesOrChildren","undefined","deferredPropertiesCallback","value","Symbol","__webpack_exports__","__extends","b","__","constructor","extendStatics","create","__rest","e","t","indexOf","getOwnPropertySymbols","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","__generator","body","verb","op","f","TypeError","_","y","label","ops","trys","push","g","sent","throw","return","iterator","__exportStar","__values","__read","ar","error","concat","__await","__asyncGenerator","a","q","resume","settle","fulfill","shift","asyncIterator","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__assign","setPrototypeOf","__proto__","assign","WidgetRenderState","d_1","diff_1","RegistryHandler_1","NodeHandler_1","vdom_1","Registry_1","decoratorMap","Map","boundAuto","auto","bind","WidgetBase","_this","_initialProperties","_changedPropertyKeys","_renderState","IDLE","_nodeHandler","default","_children","_decoratorCache","_properties","_boundRenderFunc","render","_boundInvalidate","invalidate","widgetInstanceMap","set","dirty","onElementCreated","element","onElementUpdated","onAttach","onDetach","nodeHandler","registry","coreProperties","meta","MetaType","_metaMap","cached","__setCoreProperties__","PROPERTIES","baseRegistry","instanceData","_registry","on","base","__setProperties__","originalProperties","_runBeforeProperties","registeredDiffPropertyNames","getDecorator","changedPropertyKeys","propertyNames","keys","allProperties","checkedProperties","diffPropertyResults","runReactions","propertyName","previousProperty","newProperty","_bindFunctionProperty","diffFunctions","i_1","changed","_mapDiffPropertyReactions","forEach","args","reaction","previousProperties","newProperties","__setChildren__","CHILDREN","__render__","RENDER","_runBeforeRenders","dNode","runAfterRenders","clear","parentInvalidate","addDecorator","decoratorKey","decoratorList","specificDecoratorList","_buildDecoratorList","allDecorators","instanceMap","unshift","getPrototypeOf","reduce","reactionPropertyMap","_a","reactionArguments","isWidgetBaseConstructor","_bindFunctionPropertyMap","WeakMap","bindInfo","boundFunc","scope","beforeProperties","beforePropertiesFunction","beforeRenders","beforeRenderFunction","updatedRender","console","warn","afterRenders","afterRenderFunction","afterRender","_type","WIDGET_BASE_TYPE","item","Evented_1","Registry","_super","emitLoadedEvent","widgetLabel","emit","action","_widgetRegistry","has","Error","toString","widgetCtor","defineInjector","_injectorRegistry","promise","getInjector","hasInjector","Evented","_onMap","onFunctions","obj","Container","component","getProperties","WidgetContainer","inject_1","inject","WidgetBase_1","handleDecorator","handler","propertyKey","descriptor","global","process","isFeatureTestThenable","load","resourceId","require","config","normalize","skip","term","tokens","match","id","exists","feature","normalizedFeature","toLowerCase","staticCache","testCache","testFunctions","add","overwrite","testThenables","resolvedValue","globalScope","window","self","staticFeatures","DojoHasEnvironment","document","location","versions","same","dnode1","dnode2","getProjectionOptions","projectorOptions","defaults","namespace","styleApplyer","domNode","styleName","style","transitions","enter","missingTransition","exit","deferredRenderCallbacks","afterRenderCallbacks","nodeMap","merge","checkStyleValue","styleValue","updateEvents","propName","projectionOptions","previous","currentValue","previousValue","eventName","substr","eventMap","previousEvent","removeEventListener","callback","evt","addEventListener","addClasses","classes","classNames","split","classList","removeClasses","remove","removeOrphanedEvents","eventCallback","updateProperties","propertiesUpdated","propNames","propCount","propValue","previousClasses","currentClasses","newClasses","i_2","previousClassName","classIndex","splice","i_3","i_4","styleNames","styleCount","j","newStyleValue","oldStyleValue","domValue","lastIndexOf","NAMESPACE_SVG","setAttributeNS","NAMESPACE_XLINK","removeAttribute","setAttribute","findIndexOfChild","sameAs","start","toParentHNode","toTextHNode","data","text","filterAndDecorateChildren","instance","emptyArray","nodeAdded","dnode","enterAnimation","callOnDetach","parentInstance","rendered","nodeToRemove","parentNode","removeChild","domNode_1","exitAnimation","pointerEvents","removeDomNode","checkDistinguishable","childNodes","indexToCheck","childNode","parentName","nodeIdentifier","updateChildren","parentHNode","oldChildren","newChildren","oldChildrenLength","newChildrenLength","oldIndex","newIndex","textUpdated","oldChild","newChild","updateDom","findOldIndex","oldChild_1","insertBefore","nextIndex","createDom","indexToCheck_1","addChildren","from","domElement","tagName","toUpperCase","initPropertiesAndChildren","addDeferredProperties","styles","instanceData_1","inserted","parentInstanceData","instanceData_2","filteredRendered","addRoot","mergeElement","doc","ownerDocument","newDomNode","createTextNode","replaceChild","appendChild","createElementNS","createElement","domNode_2","updated","instanceData_3","updateAnimation","previousRendered","hnode","decoratedDeferredProperties","runDeferredRenderCallbacks","sync","requestAnimationFrame","runAfterRenderCallbacks","requestIdleCallback","setTimeout","createProjection","projectionDNode","update","updatedDNode","rootNode","NAMESPACE_W3","dom","finalProjectorOptions","decoratedNode","install","hasSW","navigator","fetch","documentElement","protocol","hostname","options","serviceWorker","register","applyUpdate","errback","getRegistration","registration","has_1","Function","eval","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","title","browser","env","argv","version","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","router","hash","_b","route","_c","context","itemId","fetchItem","category","parseInt","page","fetchStories","Projector_1","Context_1","AppContainer_1","Context","onhashchange","Projector","ProjectorMixin","AppContainer","projector","setProperties","getElementById","Base","_i","_async","_projectorChildren","_projectorProperties","scheduleRender","_projectionOptions","_boundDoRender","_doRender","_boundRender","projectorState","ProjectorAttachState","Detached","AttachType","Merge","_attach","pause","_scheduled","cancelAnimationFrame","_paused","Attached","async","setChildren","_projection","afterRender_1","method","handleDecorator_1","Injector_1","_page","_category","_route","_articles","response","json","_item","_itemId","Injector","payload","_payload","Container_1","App_1","App","isObjectOrArray","always","ignore","reference","shallow","validOldProperty","validNewProperty","previousKeys","newKeys","some","RegistryHandler","_registryWidgetLabelMap","_registryInjectorLabelMap","delete","_baseRegistry","widget","injector","globalPrecedence","_get","getFunctionName","labelMap","registries","registeredLabels","event","NodeEventType","NodeHandler","_nodeMap","Widget","addProjector","beforeProperties_1","registeredInjectors","registeredInjectorsMap","ContentContainer_1","CommentsContainer_1","MenuContainer_1","css","MenuContainer","main","ContentContainer","CommentsContainer","articles","pageNumber","Content_1","Content","Article_1","articlesNodes","index","Article","pagination","href","pageLink","color","_articleShell","percent","Math","floor","random","width","titleShell","animated","animatedTitle","subtitleShell","animatedSubTitle","_renderArticle","article","url","points","user","comments_count","time_ago","commentText","isComment","articleLink","details","link","articleNumber","post"," _key","comments","placeHolderShimmer","Comments_1","Comments","Comment_1","Loading_1","commentCount","map","comment","Comment","Loading","content","padding","time","innerHTML","spinner","sk-scaleout","currentCategory","Menu_1","Menu","MenuItem_1","categories","home","menuContainer","MenuItem","selected","slice","logoLoaded","fadein","logo"],"mappings":"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","file":"src/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"src/main\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"src/main\"] = factory();\n\telse\n\t\troot[\"src/main\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","/*!\n * \n * [Dojo](https://dojo.io/)\n * Copyright [JS Foundation](https://js.foundation/) & contributors\n * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)\n * All rights reserved\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"src/main\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"src/main\"] = factory();\n\telse\n\t\troot[\"src/main\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\n/**\n * The symbol identifier for a WNode type\n */\nexports.WNODE = Symbol('Identifier for a WNode.');\n/**\n * The symbol identifier for a HNode type\n */\nexports.HNODE = Symbol('Identifier for a HNode.');\n/**\n * Helper function that returns true if the `DNode` is a `WNode` using the `type` property\n */\nfunction isWNode(child) {\n    return Boolean(child && (typeof child !== 'string') && child.type === exports.WNODE);\n}\nexports.isWNode = isWNode;\n/**\n * Helper function that returns true if the `DNode` is a `HNode` using the `type` property\n */\nfunction isHNode(child) {\n    return Boolean(child && (typeof child !== 'string') && child.type === exports.HNODE);\n}\nexports.isHNode = isHNode;\nfunction decorate(dNodes, modifier, predicate) {\n    var nodes = Array.isArray(dNodes) ? tslib_1.__spread(dNodes) : [dNodes];\n    while (nodes.length) {\n        var node = nodes.pop();\n        if (node) {\n            if (!predicate || predicate(node)) {\n                modifier(node);\n            }\n            if ((isWNode(node) || isHNode(node)) && node.children) {\n                nodes = tslib_1.__spread(nodes, node.children);\n            }\n        }\n    }\n    return dNodes;\n}\nexports.decorate = decorate;\n/**\n * Wrapper function for calls to create a widget.\n */\nfunction w(widgetConstructor, properties, children) {\n    if (children === void 0) { children = []; }\n    return {\n        children: children,\n        widgetConstructor: widgetConstructor,\n        properties: properties,\n        type: exports.WNODE\n    };\n}\nexports.w = w;\nfunction v(tag, propertiesOrChildren, children) {\n    if (propertiesOrChildren === void 0) { propertiesOrChildren = {}; }\n    if (children === void 0) { children = undefined; }\n    var properties = propertiesOrChildren;\n    var deferredPropertiesCallback;\n    if (Array.isArray(propertiesOrChildren)) {\n        children = propertiesOrChildren;\n        properties = {};\n    }\n    if (typeof properties === 'function') {\n        deferredPropertiesCallback = properties;\n        properties = {};\n    }\n    return {\n        tag: tag,\n        deferredPropertiesCallback: deferredPropertiesCallback,\n        children: children,\n        properties: properties,\n        type: exports.HNODE\n    };\n}\nexports.v = v;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"__extends\"] = __extends;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (immutable) */ __webpack_exports__[\"__rest\"] = __rest;\n/* harmony export (immutable) */ __webpack_exports__[\"__decorate\"] = __decorate;\n/* harmony export (immutable) */ __webpack_exports__[\"__param\"] = __param;\n/* harmony export (immutable) */ __webpack_exports__[\"__metadata\"] = __metadata;\n/* harmony export (immutable) */ __webpack_exports__[\"__awaiter\"] = __awaiter;\n/* harmony export (immutable) */ __webpack_exports__[\"__generator\"] = __generator;\n/* harmony export (immutable) */ __webpack_exports__[\"__exportStar\"] = __exportStar;\n/* harmony export (immutable) */ __webpack_exports__[\"__values\"] = __values;\n/* harmony export (immutable) */ __webpack_exports__[\"__read\"] = __read;\n/* harmony export (immutable) */ __webpack_exports__[\"__spread\"] = __spread;\n/* harmony export (immutable) */ __webpack_exports__[\"__await\"] = __await;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncGenerator\"] = __asyncGenerator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncDelegator\"] = __asyncDelegator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncValues\"] = __asyncValues;\n/* harmony export (immutable) */ __webpack_exports__[\"__makeTemplateObject\"] = __makeTemplateObject;\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar d_1 = __webpack_require__(0);\nvar diff_1 = __webpack_require__(22);\nvar RegistryHandler_1 = __webpack_require__(23);\nvar NodeHandler_1 = __webpack_require__(24);\nvar vdom_1 = __webpack_require__(8);\nvar Registry_1 = __webpack_require__(3);\nvar WidgetRenderState;\n(function (WidgetRenderState) {\n    WidgetRenderState[WidgetRenderState[\"IDLE\"] = 1] = \"IDLE\";\n    WidgetRenderState[WidgetRenderState[\"PROPERTIES\"] = 2] = \"PROPERTIES\";\n    WidgetRenderState[WidgetRenderState[\"CHILDREN\"] = 3] = \"CHILDREN\";\n    WidgetRenderState[WidgetRenderState[\"RENDER\"] = 4] = \"RENDER\";\n})(WidgetRenderState || (WidgetRenderState = {}));\nvar decoratorMap = new Map();\nvar boundAuto = diff_1.auto.bind(null);\n/**\n * Main widget base for all widgets to extend\n */\nvar WidgetBase = /** @class */ (function () {\n    /**\n     * @constructor\n     */\n    function WidgetBase() {\n        var _this = this;\n        /**\n         * Indicates if it is the initial set properties cycle\n         */\n        this._initialProperties = true;\n        /**\n         * Array of property keys considered changed from the previous set properties\n         */\n        this._changedPropertyKeys = [];\n        this._renderState = WidgetRenderState.IDLE;\n        this._nodeHandler = new NodeHandler_1.default();\n        this._children = [];\n        this._decoratorCache = new Map();\n        this._properties = {};\n        this._boundRenderFunc = this.render.bind(this);\n        this._boundInvalidate = this.invalidate.bind(this);\n        vdom_1.widgetInstanceMap.set(this, {\n            dirty: true,\n            onElementCreated: function (element, key) {\n                _this.onElementCreated(element, key);\n            },\n            onElementUpdated: function (element, key) {\n                _this.onElementUpdated(element, key);\n            },\n            onAttach: function () {\n                _this.onAttach();\n            },\n            onDetach: function () {\n                _this.onDetach();\n            },\n            nodeHandler: this._nodeHandler,\n            registry: function () {\n                return _this.registry;\n            },\n            coreProperties: {},\n            invalidate: this._boundInvalidate\n        });\n    }\n    WidgetBase.prototype.meta = function (MetaType) {\n        if (this._metaMap === undefined) {\n            this._metaMap = new Map();\n        }\n        var cached = this._metaMap.get(MetaType);\n        if (!cached) {\n            cached = new MetaType({\n                invalidate: this._boundInvalidate,\n                nodeHandler: this._nodeHandler,\n                bind: this\n            });\n            this._metaMap.set(MetaType, cached);\n            cached;\n        }\n        return cached;\n    };\n    /**\n     * Widget lifecycle method that is called whenever a dom node is created for a HNode.\n     * Override this method to access the dom nodes that were inserted into the dom.\n     * @param element The dom node represented by the vdom node.\n     * @param key The vdom node's key.\n     */\n    WidgetBase.prototype.onElementCreated = function (element, key) {\n        // Do nothing by default.\n    };\n    /**\n     * Widget lifecycle method that is called whenever a dom node that is associated with a HNode is updated.\n     * Override this method to access the dom node.\n     * @param element The dom node represented by the vdom node.\n     * @param key The vdom node's key.\n     */\n    WidgetBase.prototype.onElementUpdated = function (element, key) {\n        // Do nothing by default.\n    };\n    WidgetBase.prototype.onAttach = function () {\n        // Do nothing by default.\n    };\n    WidgetBase.prototype.onDetach = function () {\n        // Do nothing by default.\n    };\n    Object.defineProperty(WidgetBase.prototype, \"properties\", {\n        get: function () {\n            return this._properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WidgetBase.prototype, \"changedPropertyKeys\", {\n        get: function () {\n            return tslib_1.__spread(this._changedPropertyKeys);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WidgetBase.prototype.__setCoreProperties__ = function (coreProperties) {\n        this._renderState = WidgetRenderState.PROPERTIES;\n        var baseRegistry = coreProperties.baseRegistry;\n        var instanceData = vdom_1.widgetInstanceMap.get(this);\n        if (instanceData.coreProperties.baseRegistry !== baseRegistry) {\n            if (this._registry === undefined) {\n                this._registry = new RegistryHandler_1.default();\n                this._registry.on('invalidate', this._boundInvalidate);\n            }\n            this._registry.base = baseRegistry;\n            this.invalidate();\n        }\n        instanceData.coreProperties = coreProperties;\n    };\n    WidgetBase.prototype.__setProperties__ = function (originalProperties) {\n        var _this = this;\n        var properties = this._runBeforeProperties(originalProperties);\n        var registeredDiffPropertyNames = this.getDecorator('registeredDiffProperty');\n        var changedPropertyKeys = [];\n        var propertyNames = Object.keys(properties);\n        var instanceData = vdom_1.widgetInstanceMap.get(this);\n        this._renderState = WidgetRenderState.PROPERTIES;\n        if (this._initialProperties === false || registeredDiffPropertyNames.length !== 0) {\n            var allProperties = tslib_1.__spread(propertyNames, Object.keys(this._properties));\n            var checkedProperties = [];\n            var diffPropertyResults = {};\n            var runReactions = false;\n            for (var i = 0; i < allProperties.length; i++) {\n                var propertyName = allProperties[i];\n                if (checkedProperties.indexOf(propertyName) > 0) {\n                    continue;\n                }\n                checkedProperties.push(propertyName);\n                var previousProperty = this._properties[propertyName];\n                var newProperty = this._bindFunctionProperty(properties[propertyName], instanceData.coreProperties.bind);\n                if (registeredDiffPropertyNames.indexOf(propertyName) !== -1) {\n                    runReactions = true;\n                    var diffFunctions = this.getDecorator(\"diffProperty:\" + propertyName);\n                    for (var i_1 = 0; i_1 < diffFunctions.length; i_1++) {\n                        var result = diffFunctions[i_1](previousProperty, newProperty);\n                        if (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n                            changedPropertyKeys.push(propertyName);\n                        }\n                        if (propertyName in properties) {\n                            diffPropertyResults[propertyName] = result.value;\n                        }\n                    }\n                }\n                else {\n                    var result = boundAuto(previousProperty, newProperty);\n                    if (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n                        changedPropertyKeys.push(propertyName);\n                    }\n                    if (propertyName in properties) {\n                        diffPropertyResults[propertyName] = result.value;\n                    }\n                }\n            }\n            if (runReactions) {\n                this._mapDiffPropertyReactions(properties, changedPropertyKeys).forEach(function (args, reaction) {\n                    if (args.changed) {\n                        reaction.call(_this, args.previousProperties, args.newProperties);\n                    }\n                });\n            }\n            this._properties = diffPropertyResults;\n            this._changedPropertyKeys = changedPropertyKeys;\n        }\n        else {\n            this._initialProperties = false;\n            for (var i = 0; i < propertyNames.length; i++) {\n                var propertyName = propertyNames[i];\n                if (typeof properties[propertyName] === 'function') {\n                    properties[propertyName] = this._bindFunctionProperty(properties[propertyName], instanceData.coreProperties.bind);\n                }\n                else {\n                    changedPropertyKeys.push(propertyName);\n                }\n            }\n            this._changedPropertyKeys = changedPropertyKeys;\n            this._properties = tslib_1.__assign({}, properties);\n        }\n        if (this._changedPropertyKeys.length > 0) {\n            this.invalidate();\n        }\n    };\n    Object.defineProperty(WidgetBase.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WidgetBase.prototype.__setChildren__ = function (children) {\n        this._renderState = WidgetRenderState.CHILDREN;\n        if (this._children.length > 0 || children.length > 0) {\n            this._children = children;\n            this.invalidate();\n        }\n    };\n    WidgetBase.prototype.__render__ = function () {\n        this._renderState = WidgetRenderState.RENDER;\n        var instanceData = vdom_1.widgetInstanceMap.get(this);\n        instanceData.dirty = false;\n        var render = this._runBeforeRenders();\n        var dNode = render();\n        dNode = this.runAfterRenders(dNode);\n        this._nodeHandler.clear();\n        this._renderState = WidgetRenderState.IDLE;\n        return dNode;\n    };\n    WidgetBase.prototype.invalidate = function () {\n        var instanceData = vdom_1.widgetInstanceMap.get(this);\n        if (this._renderState === WidgetRenderState.IDLE) {\n            instanceData.dirty = true;\n            if (instanceData.parentInvalidate) {\n                instanceData.parentInvalidate();\n            }\n        }\n        else if (this._renderState === WidgetRenderState.PROPERTIES) {\n            instanceData.dirty = true;\n        }\n        else if (this._renderState === WidgetRenderState.CHILDREN) {\n            instanceData.dirty = true;\n        }\n    };\n    WidgetBase.prototype.render = function () {\n        return d_1.v('div', {}, this.children);\n    };\n    /**\n     * Function to add decorators to WidgetBase\n     *\n     * @param decoratorKey The key of the decorator\n     * @param value The value of the decorator\n     */\n    WidgetBase.prototype.addDecorator = function (decoratorKey, value) {\n        value = Array.isArray(value) ? value : [value];\n        if (this.hasOwnProperty('constructor')) {\n            var decoratorList = decoratorMap.get(this.constructor);\n            if (!decoratorList) {\n                decoratorList = new Map();\n                decoratorMap.set(this.constructor, decoratorList);\n            }\n            var specificDecoratorList = decoratorList.get(decoratorKey);\n            if (!specificDecoratorList) {\n                specificDecoratorList = [];\n                decoratorList.set(decoratorKey, specificDecoratorList);\n            }\n            specificDecoratorList.push.apply(specificDecoratorList, tslib_1.__spread(value));\n        }\n        else {\n            var decorators = this.getDecorator(decoratorKey);\n            this._decoratorCache.set(decoratorKey, tslib_1.__spread(decorators, value));\n        }\n    };\n    /**\n     * Function to build the list of decorators from the global decorator map.\n     *\n     * @param decoratorKey  The key of the decorator\n     * @return An array of decorator values\n     * @private\n     */\n    WidgetBase.prototype._buildDecoratorList = function (decoratorKey) {\n        var allDecorators = [];\n        var constructor = this.constructor;\n        while (constructor) {\n            var instanceMap = decoratorMap.get(constructor);\n            if (instanceMap) {\n                var decorators = instanceMap.get(decoratorKey);\n                if (decorators) {\n                    allDecorators.unshift.apply(allDecorators, tslib_1.__spread(decorators));\n                }\n            }\n            constructor = Object.getPrototypeOf(constructor);\n        }\n        return allDecorators;\n    };\n    /**\n     * Function to retrieve decorator values\n     *\n     * @param decoratorKey The key of the decorator\n     * @returns An array of decorator values\n     */\n    WidgetBase.prototype.getDecorator = function (decoratorKey) {\n        var allDecorators = this._decoratorCache.get(decoratorKey);\n        if (allDecorators !== undefined) {\n            return allDecorators;\n        }\n        allDecorators = this._buildDecoratorList(decoratorKey);\n        this._decoratorCache.set(decoratorKey, allDecorators);\n        return allDecorators;\n    };\n    WidgetBase.prototype._mapDiffPropertyReactions = function (newProperties, changedPropertyKeys) {\n        var _this = this;\n        var reactionFunctions = this.getDecorator('diffReaction');\n        return reactionFunctions.reduce(function (reactionPropertyMap, _a) {\n            var reaction = _a.reaction, propertyName = _a.propertyName;\n            var reactionArguments = reactionPropertyMap.get(reaction);\n            if (reactionArguments === undefined) {\n                reactionArguments = {\n                    previousProperties: {},\n                    newProperties: {},\n                    changed: false\n                };\n            }\n            reactionArguments.previousProperties[propertyName] = _this._properties[propertyName];\n            reactionArguments.newProperties[propertyName] = newProperties[propertyName];\n            if (changedPropertyKeys.indexOf(propertyName) !== -1) {\n                reactionArguments.changed = true;\n            }\n            reactionPropertyMap.set(reaction, reactionArguments);\n            return reactionPropertyMap;\n        }, new Map());\n    };\n    /**\n     * Binds unbound property functions to the specified `bind` property\n     *\n     * @param properties properties to check for functions\n     */\n    WidgetBase.prototype._bindFunctionProperty = function (property, bind) {\n        if (typeof property === 'function' && Registry_1.isWidgetBaseConstructor(property) === false) {\n            if (this._bindFunctionPropertyMap === undefined) {\n                this._bindFunctionPropertyMap = new WeakMap();\n            }\n            var bindInfo = this._bindFunctionPropertyMap.get(property) || {};\n            var boundFunc = bindInfo.boundFunc, scope = bindInfo.scope;\n            if (boundFunc === undefined || scope !== bind) {\n                boundFunc = property.bind(bind);\n                this._bindFunctionPropertyMap.set(property, { boundFunc: boundFunc, scope: bind });\n            }\n            return boundFunc;\n        }\n        return property;\n    };\n    Object.defineProperty(WidgetBase.prototype, \"registry\", {\n        get: function () {\n            if (this._registry === undefined) {\n                this._registry = new RegistryHandler_1.default();\n                this._registry.on('invalidate', this._boundInvalidate);\n            }\n            return this._registry;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WidgetBase.prototype._runBeforeProperties = function (properties) {\n        var _this = this;\n        var beforeProperties = this.getDecorator('beforeProperties');\n        if (beforeProperties.length > 0) {\n            return beforeProperties.reduce(function (properties, beforePropertiesFunction) {\n                return tslib_1.__assign({}, properties, beforePropertiesFunction.call(_this, properties));\n            }, tslib_1.__assign({}, properties));\n        }\n        return properties;\n    };\n    /**\n     * Run all registered before renders and return the updated render method\n     */\n    WidgetBase.prototype._runBeforeRenders = function () {\n        var _this = this;\n        var beforeRenders = this.getDecorator('beforeRender');\n        if (beforeRenders.length > 0) {\n            return beforeRenders.reduce(function (render, beforeRenderFunction) {\n                var updatedRender = beforeRenderFunction.call(_this, render, _this._properties, _this._children);\n                if (!updatedRender) {\n                    console.warn('Render function not returned from beforeRender, using previous render');\n                    return render;\n                }\n                return updatedRender;\n            }, this._boundRenderFunc);\n        }\n        return this._boundRenderFunc;\n    };\n    /**\n     * Run all registered after renders and return the decorated DNodes\n     *\n     * @param dNode The DNodes to run through the after renders\n     */\n    WidgetBase.prototype.runAfterRenders = function (dNode) {\n        var _this = this;\n        var afterRenders = this.getDecorator('afterRender');\n        if (afterRenders.length > 0) {\n            return afterRenders.reduce(function (dNode, afterRenderFunction) {\n                return afterRenderFunction.call(_this, dNode);\n            }, dNode);\n        }\n        if (this._metaMap !== undefined) {\n            this._metaMap.forEach(function (meta) {\n                meta.afterRender();\n            });\n        }\n        return dNode;\n    };\n    /**\n     * static identifier\n     */\n    WidgetBase._type = Registry_1.WIDGET_BASE_TYPE;\n    return WidgetBase;\n}());\nexports.WidgetBase = WidgetBase;\nexports.default = WidgetBase;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar Evented_1 = __webpack_require__(4);\n/**\n * Widget base symbol type\n */\nexports.WIDGET_BASE_TYPE = Symbol('Widget Base');\n/**\n * Checks is the item is a subclass of WidgetBase (or a WidgetBase)\n *\n * @param item the item to check\n * @returns true/false indicating if the item is a WidgetBaseConstructor\n */\nfunction isWidgetBaseConstructor(item) {\n    return Boolean(item && item._type === exports.WIDGET_BASE_TYPE);\n}\nexports.isWidgetBaseConstructor = isWidgetBaseConstructor;\n/**\n * The Registry implementation\n */\nvar Registry = /** @class */ (function (_super) {\n    tslib_1.__extends(Registry, _super);\n    function Registry() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Emit loaded event for registry label\n     */\n    Registry.prototype.emitLoadedEvent = function (widgetLabel, item) {\n        this.emit({\n            type: widgetLabel,\n            action: 'loaded',\n            item: item\n        });\n    };\n    Registry.prototype.define = function (label, item) {\n        var _this = this;\n        if (this._widgetRegistry === undefined) {\n            this._widgetRegistry = new Map();\n        }\n        if (this._widgetRegistry.has(label)) {\n            throw new Error(\"widget has already been registered for '\" + label.toString() + \"'\");\n        }\n        this._widgetRegistry.set(label, item);\n        if (item instanceof Promise) {\n            item.then(function (widgetCtor) {\n                _this._widgetRegistry.set(label, widgetCtor);\n                _this.emitLoadedEvent(label, widgetCtor);\n                return widgetCtor;\n            }, function (error) {\n                throw error;\n            });\n        }\n        else {\n            this.emitLoadedEvent(label, item);\n        }\n    };\n    Registry.prototype.defineInjector = function (label, item) {\n        if (this._injectorRegistry === undefined) {\n            this._injectorRegistry = new Map();\n        }\n        if (this._injectorRegistry.has(label)) {\n            throw new Error(\"injector has already been registered for '\" + label.toString() + \"'\");\n        }\n        this._injectorRegistry.set(label, item);\n        this.emitLoadedEvent(label, item);\n    };\n    Registry.prototype.get = function (label) {\n        var _this = this;\n        if (!this.has(label)) {\n            return null;\n        }\n        var item = this._widgetRegistry.get(label);\n        if (isWidgetBaseConstructor(item)) {\n            return item;\n        }\n        if (item instanceof Promise) {\n            return null;\n        }\n        var promise = item();\n        this._widgetRegistry.set(label, promise);\n        promise.then(function (widgetCtor) {\n            _this._widgetRegistry.set(label, widgetCtor);\n            _this.emitLoadedEvent(label, widgetCtor);\n            return widgetCtor;\n        }, function (error) {\n            throw error;\n        });\n        return null;\n    };\n    Registry.prototype.getInjector = function (label) {\n        if (!this.hasInjector(label)) {\n            return null;\n        }\n        return this._injectorRegistry.get(label);\n    };\n    Registry.prototype.has = function (label) {\n        return Boolean(this._widgetRegistry && this._widgetRegistry.has(label));\n    };\n    Registry.prototype.hasInjector = function (label) {\n        return Boolean(this._injectorRegistry && this._injectorRegistry.has(label));\n    };\n    return Registry;\n}(Evented_1.Evented));\nexports.Registry = Registry;\nexports.default = Registry;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Evented = /** @class */ (function () {\n    function Evented() {\n        this._onMap = new Map();\n    }\n    Evented.prototype.on = function (type, on) {\n        var onFunctions = this._onMap.get(type);\n        if (onFunctions) {\n            onFunctions.push(on);\n        }\n        else {\n            this._onMap.set(type, [on]);\n        }\n    };\n    Evented.prototype.emit = function (obj) {\n        var onFunctions = this._onMap.get(obj.type);\n        if (onFunctions) {\n            for (var i = 0; i < onFunctions.length; i++) {\n                onFunctions[i](obj);\n            }\n        }\n    };\n    return Evented;\n}());\nexports.Evented = Evented;\nexports.default = Evented;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar WidgetBase_1 = __webpack_require__(2);\nvar inject_1 = __webpack_require__(25);\nvar d_1 = __webpack_require__(0);\nfunction Container(component, name, _a) {\n    var getProperties = _a.getProperties;\n    var WidgetContainer = /** @class */ (function (_super) {\n        tslib_1.__extends(WidgetContainer, _super);\n        function WidgetContainer() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        WidgetContainer.prototype.__setProperties__ = function (properties) {\n            _super.prototype.__setProperties__.call(this, properties);\n            this.invalidate();\n        };\n        WidgetContainer.prototype.render = function () {\n            return d_1.w(component, this.properties, this.children);\n        };\n        WidgetContainer = tslib_1.__decorate([\n            inject_1.inject({ name: name, getProperties: getProperties })\n        ], WidgetContainer);\n        return WidgetContainer;\n    }(WidgetBase_1.WidgetBase));\n    return WidgetContainer;\n}\nexports.Container = Container;\nexports.default = Container;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Generic decorator handler to take care of whether or not the decorator was called at the class level\n * or the method level.\n *\n * @param handler\n */\nfunction handleDecorator(handler) {\n    return function (target, propertyKey, descriptor) {\n        if (typeof target === 'function') {\n            handler(target.prototype, undefined);\n        }\n        else {\n            handler(target, propertyKey);\n        }\n    };\n}\nexports.handleDecorator = handleDecorator;\nexports.default = handleDecorator;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, process) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFeatureTestThenable(value) {\n    return value && value.then;\n}\n/**\n * A cache of results of feature tests\n */\nexports.testCache = {};\n/**\n * A cache of the un-resolved feature tests\n */\nexports.testFunctions = {};\n/**\n * A cache of unresolved thenables (probably promises)\n * @type {{}}\n */\nvar testThenables = {};\n/**\n * A reference to the global scope (`window` in a browser, `global` in NodeJS)\n */\nvar globalScope = (function () {\n    /* istanbul ignore else */\n    if (typeof window !== 'undefined') {\n        // Browsers\n        return window;\n    }\n    else if (typeof global !== 'undefined') {\n        // Node\n        return global;\n    }\n    else if (typeof self !== 'undefined') {\n        // Web workers\n        return self;\n    }\n    /* istanbul ignore next */\n    return {};\n})();\n/* Grab the staticFeatures if there are available */\nvar staticFeatures = (globalScope.DojoHasEnvironment || {}).staticFeatures;\n/* Cleaning up the DojoHasEnviornment */\nif ('DojoHasEnvironment' in globalScope) {\n    delete globalScope.DojoHasEnvironment;\n}\n/**\n * Custom type guard to narrow the `staticFeatures` to either a map or a function that\n * returns a map.\n *\n * @param value The value to guard for\n */\nfunction isStaticFeatureFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * The cache of asserted features that were available in the global scope when the\n * module loaded\n */\nvar staticCache = staticFeatures\n    ? isStaticFeatureFunction(staticFeatures)\n        ? staticFeatures.apply(globalScope)\n        : staticFeatures\n    : {};/* Providing an empty cache, if none was in the environment\n\n/**\n* AMD plugin function.\n*\n* Conditional loads modules based on a has feature test value.\n*\n* @param resourceId Gives the resolved module id to load.\n* @param require The loader require function with respect to the module that contained the plugin resource in its\n*                dependency list.\n* @param load Callback to loader that consumes result of plugin demand.\n*/\nfunction load(resourceId, require, load, config) {\n    resourceId ? require([resourceId], load) : load();\n}\nexports.load = load;\n/**\n * AMD plugin function.\n *\n * Resolves resourceId into a module id based on possibly-nested tenary expression that branches on has feature test\n * value(s).\n *\n * @param resourceId The id of the module\n * @param normalize Resolves a relative module id into an absolute module id\n */\nfunction normalize(resourceId, normalize) {\n    var tokens = resourceId.match(/[\\?:]|[^:\\?]*/g) || [];\n    var i = 0;\n    function get(skip) {\n        var term = tokens[i++];\n        if (term === ':') {\n            // empty string module name, resolves to null\n            return null;\n        }\n        else {\n            // postfixed with a ? means it is a feature to branch on, the term is the name of the feature\n            if (tokens[i++] === '?') {\n                if (!skip && has(term)) {\n                    // matched the feature, get the first value from the options\n                    return get();\n                }\n                else {\n                    // did not match, get the second value, passing over the first\n                    get(true);\n                    return get(skip);\n                }\n            }\n            // a module\n            return term;\n        }\n    }\n    var id = get();\n    return id && normalize(id);\n}\nexports.normalize = normalize;\n/**\n * Check if a feature has already been registered\n *\n * @param feature the name of the feature\n */\nfunction exists(feature) {\n    var normalizedFeature = feature.toLowerCase();\n    return Boolean(normalizedFeature in staticCache || normalizedFeature in exports.testCache || exports.testFunctions[normalizedFeature]);\n}\nexports.exists = exists;\n/**\n * Register a new test for a named feature.\n *\n * @example\n * has.add('dom-addeventlistener', !!document.addEventListener);\n *\n * @example\n * has.add('touch-events', function () {\n *    return 'ontouchstart' in document\n * });\n *\n * @param feature the name of the feature\n * @param value the value reported of the feature, or a function that will be executed once on first test\n * @param overwrite if an existing value should be overwritten. Defaults to false.\n */\nfunction add(feature, value, overwrite) {\n    if (overwrite === void 0) { overwrite = false; }\n    var normalizedFeature = feature.toLowerCase();\n    if (exists(normalizedFeature) && !overwrite && !(normalizedFeature in staticCache)) {\n        throw new TypeError(\"Feature \\\"\" + feature + \"\\\" exists and overwrite not true.\");\n    }\n    if (typeof value === 'function') {\n        exports.testFunctions[normalizedFeature] = value;\n    }\n    else if (isFeatureTestThenable(value)) {\n        testThenables[feature] = value.then(function (resolvedValue) {\n            exports.testCache[feature] = resolvedValue;\n            delete testThenables[feature];\n        }, function () {\n            delete testThenables[feature];\n        });\n    }\n    else {\n        exports.testCache[normalizedFeature] = value;\n        delete exports.testFunctions[normalizedFeature];\n    }\n}\nexports.add = add;\n/**\n * Return the current value of a named feature.\n *\n * @param feature The name (if a string) or identifier (if an integer) of the feature to test.\n */\nfunction has(feature) {\n    var result;\n    var normalizedFeature = feature.toLowerCase();\n    if (normalizedFeature in staticCache) {\n        result = staticCache[normalizedFeature];\n    }\n    else if (exports.testFunctions[normalizedFeature]) {\n        result = exports.testCache[normalizedFeature] = exports.testFunctions[normalizedFeature].call(null);\n        delete exports.testFunctions[normalizedFeature];\n    }\n    else if (normalizedFeature in exports.testCache) {\n        result = exports.testCache[normalizedFeature];\n    }\n    else if (feature in testThenables) {\n        return false;\n    }\n    else {\n        throw new TypeError(\"Attempt to detect unregistered has feature \\\"\" + feature + \"\\\"\");\n    }\n    return result;\n}\nexports.default = has;\n/*\n * Out of the box feature tests\n */\n/* Environments */\n/* Used as a value to provide a debug only code path */\nadd('debug', true);\n/* Detects if the environment is \"browser like\" */\nadd('host-browser', typeof document !== 'undefined' && typeof location !== 'undefined');\n/* Detects if the environment appears to be NodeJS */\nadd('host-node', function () {\n    if (typeof process === 'object' && process.versions && process.versions.node) {\n        return process.versions.node;\n    }\n});\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13), __webpack_require__(14)))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar d_1 = __webpack_require__(0);\nvar Registry_1 = __webpack_require__(3);\nvar NAMESPACE_W3 = 'http://www.w3.org/';\nvar NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\nvar NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\nvar emptyArray = [];\nexports.widgetInstanceMap = new WeakMap();\nfunction same(dnode1, dnode2) {\n    if (d_1.isHNode(dnode1) && d_1.isHNode(dnode2)) {\n        if (dnode1.tag !== dnode2.tag) {\n            return false;\n        }\n        if (dnode1.properties.key !== dnode2.properties.key) {\n            return false;\n        }\n        return true;\n    }\n    else if (d_1.isWNode(dnode1) && d_1.isWNode(dnode2)) {\n        if (dnode1.widgetConstructor !== dnode2.widgetConstructor) {\n            return false;\n        }\n        if (dnode1.properties.key !== dnode2.properties.key) {\n            return false;\n        }\n        return true;\n    }\n    return false;\n}\nvar missingTransition = function () {\n    throw new Error('Provide a transitions object to the projectionOptions to do animations');\n};\nfunction getProjectionOptions(projectorOptions) {\n    var defaults = {\n        namespace: undefined,\n        styleApplyer: function (domNode, styleName, value) {\n            domNode.style[styleName] = value;\n        },\n        transitions: {\n            enter: missingTransition,\n            exit: missingTransition\n        },\n        deferredRenderCallbacks: [],\n        afterRenderCallbacks: [],\n        nodeMap: new WeakMap(),\n        merge: false\n    };\n    return tslib_1.__assign({}, defaults, projectorOptions);\n}\nfunction checkStyleValue(styleValue) {\n    if (typeof styleValue !== 'string') {\n        throw new Error('Style values must be strings');\n    }\n}\nfunction updateEvents(domNode, propName, properties, projectionOptions, previousProperties) {\n    var previous = previousProperties || Object.create(null);\n    var currentValue = properties[propName];\n    var previousValue = previous[propName];\n    var eventName = propName.substr(2);\n    var eventMap = projectionOptions.nodeMap.get(domNode) || new WeakMap();\n    if (previousValue) {\n        var previousEvent = eventMap.get(previousValue);\n        domNode.removeEventListener(eventName, previousEvent);\n    }\n    var callback = currentValue.bind(properties.bind);\n    if (eventName === 'input') {\n        callback = function (evt) {\n            currentValue.call(this, evt);\n            evt.target['oninput-value'] = evt.target.value;\n        }.bind(properties.bind);\n    }\n    domNode.addEventListener(eventName, callback);\n    eventMap.set(currentValue, callback);\n    projectionOptions.nodeMap.set(domNode, eventMap);\n}\nfunction addClasses(domNode, classes) {\n    if (classes) {\n        var classNames = classes.split(' ');\n        for (var i = 0; i < classNames.length; i++) {\n            domNode.classList.add(classNames[i]);\n        }\n    }\n}\nfunction removeClasses(domNode, classes) {\n    if (classes) {\n        var classNames = classes.split(' ');\n        for (var i = 0; i < classNames.length; i++) {\n            domNode.classList.remove(classNames[i]);\n        }\n    }\n}\nfunction removeOrphanedEvents(domNode, previousProperties, properties, projectionOptions) {\n    var eventMap = projectionOptions.nodeMap.get(domNode);\n    if (eventMap) {\n        Object.keys(previousProperties).forEach(function (propName) {\n            if (propName.substr(0, 2) === 'on' && !properties[propName]) {\n                var eventCallback = eventMap.get(previousProperties[propName]);\n                if (eventCallback) {\n                    domNode.removeEventListener(propName.substr(2), eventCallback);\n                }\n            }\n        });\n    }\n}\nfunction updateProperties(domNode, previousProperties, properties, projectionOptions) {\n    var propertiesUpdated = false;\n    var propNames = Object.keys(properties);\n    var propCount = propNames.length;\n    if (propNames.indexOf('classes') === -1 && previousProperties.classes) {\n        if (Array.isArray(previousProperties.classes)) {\n            for (var i = 0; i < previousProperties.classes.length; i++) {\n                removeClasses(domNode, previousProperties.classes[i]);\n            }\n        }\n        else {\n            removeClasses(domNode, previousProperties.classes);\n        }\n    }\n    removeOrphanedEvents(domNode, previousProperties, properties, projectionOptions);\n    for (var i = 0; i < propCount; i++) {\n        var propName = propNames[i];\n        var propValue = properties[propName];\n        var previousValue = previousProperties[propName];\n        if (propName === 'classes') {\n            var previousClasses = Array.isArray(previousValue) ? previousValue : [previousValue];\n            var currentClasses = Array.isArray(propValue) ? propValue : [propValue];\n            if (previousClasses && previousClasses.length > 0) {\n                if (!propValue || propValue.length === 0) {\n                    for (var i_1 = 0; i_1 < previousClasses.length; i_1++) {\n                        removeClasses(domNode, previousClasses[i_1]);\n                    }\n                }\n                else {\n                    var newClasses = tslib_1.__spread(currentClasses);\n                    for (var i_2 = 0; i_2 < previousClasses.length; i_2++) {\n                        var previousClassName = previousClasses[i_2];\n                        if (previousClassName) {\n                            var classIndex = newClasses.indexOf(previousClassName);\n                            if (classIndex === -1) {\n                                removeClasses(domNode, previousClassName);\n                            }\n                            else {\n                                newClasses.splice(classIndex, 1);\n                            }\n                        }\n                    }\n                    for (var i_3 = 0; i_3 < newClasses.length; i_3++) {\n                        addClasses(domNode, newClasses[i_3]);\n                    }\n                }\n            }\n            else {\n                for (var i_4 = 0; i_4 < currentClasses.length; i_4++) {\n                    addClasses(domNode, currentClasses[i_4]);\n                }\n            }\n        }\n        else if (propName === 'styles') {\n            var styleNames = Object.keys(propValue);\n            var styleCount = styleNames.length;\n            for (var j = 0; j < styleCount; j++) {\n                var styleName = styleNames[j];\n                var newStyleValue = propValue[styleName];\n                var oldStyleValue = previousValue[styleName];\n                if (newStyleValue === oldStyleValue) {\n                    continue;\n                }\n                propertiesUpdated = true;\n                if (newStyleValue) {\n                    checkStyleValue(newStyleValue);\n                    projectionOptions.styleApplyer(domNode, styleName, newStyleValue);\n                }\n                else {\n                    projectionOptions.styleApplyer(domNode, styleName, '');\n                }\n            }\n        }\n        else {\n            if (!propValue && typeof previousValue === 'string') {\n                propValue = '';\n            }\n            if (propName === 'value') {\n                var domValue = domNode[propName];\n                if (domValue !== propValue\n                    && (domNode['oninput-value']\n                        ? domValue === domNode['oninput-value']\n                        : propValue !== previousValue)) {\n                    domNode[propName] = propValue;\n                    domNode['oninput-value'] = undefined;\n                }\n                if (propValue !== previousValue) {\n                    propertiesUpdated = true;\n                }\n            }\n            else if (propValue !== previousValue) {\n                var type = typeof propValue;\n                if (type === 'function' && propName.lastIndexOf('on', 0) === 0) {\n                    updateEvents(domNode, propName, properties, projectionOptions, previousProperties);\n                }\n                else if (type === 'string' && propName !== 'innerHTML') {\n                    if (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n                        domNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n                    }\n                    else if (propName === 'role' && propValue === '') {\n                        domNode.removeAttribute(propName);\n                    }\n                    else {\n                        domNode.setAttribute(propName, propValue);\n                    }\n                }\n                else {\n                    if (domNode[propName] !== propValue) {\n                        domNode[propName] = propValue;\n                    }\n                }\n                propertiesUpdated = true;\n            }\n        }\n    }\n    return propertiesUpdated;\n}\nfunction findIndexOfChild(children, sameAs, start) {\n    for (var i = start; i < children.length; i++) {\n        if (same(children[i], sameAs)) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction toParentHNode(domNode) {\n    return {\n        tag: '',\n        properties: {},\n        children: undefined,\n        domNode: domNode,\n        type: d_1.HNODE\n    };\n}\nexports.toParentHNode = toParentHNode;\nfunction toTextHNode(data) {\n    return {\n        tag: '',\n        properties: {},\n        children: undefined,\n        text: \"\" + data,\n        domNode: undefined,\n        type: d_1.HNODE\n    };\n}\nexports.toTextHNode = toTextHNode;\nfunction filterAndDecorateChildren(children, instance) {\n    if (children === undefined) {\n        return emptyArray;\n    }\n    children = Array.isArray(children) ? children : [children];\n    for (var i = 0; i < children.length;) {\n        var child = children[i];\n        if (child === undefined || child === null) {\n            children.splice(i, 1);\n            continue;\n        }\n        else if (typeof child === 'string') {\n            children[i] = toTextHNode(child);\n        }\n        else {\n            if (d_1.isHNode(child)) {\n                if (child.properties.bind === undefined) {\n                    child.properties.bind = instance;\n                    if (child.children && child.children.length > 0) {\n                        filterAndDecorateChildren(child.children, instance);\n                    }\n                }\n            }\n            else {\n                if (!child.coreProperties) {\n                    var instanceData = exports.widgetInstanceMap.get(instance);\n                    child.coreProperties = {\n                        bind: instance,\n                        baseRegistry: instanceData.coreProperties.baseRegistry\n                    };\n                }\n                if (child.children && child.children.length > 0) {\n                    filterAndDecorateChildren(child.children, instance);\n                }\n            }\n        }\n        i++;\n    }\n    return children;\n}\nexports.filterAndDecorateChildren = filterAndDecorateChildren;\nfunction nodeAdded(dnode, transitions) {\n    if (d_1.isHNode(dnode) && dnode.properties) {\n        var enterAnimation = dnode.properties.enterAnimation;\n        if (enterAnimation) {\n            if (typeof enterAnimation === 'function') {\n                enterAnimation(dnode.domNode, dnode.properties);\n            }\n            else {\n                transitions.enter(dnode.domNode, dnode.properties, enterAnimation);\n            }\n        }\n    }\n}\nfunction callOnDetach(dNodes, parentInstance) {\n    dNodes = Array.isArray(dNodes) ? dNodes : [dNodes];\n    for (var i = 0; i < dNodes.length; i++) {\n        var dNode = dNodes[i];\n        if (d_1.isWNode(dNode)) {\n            callOnDetach(dNode.rendered, dNode.instance);\n            var instanceData = exports.widgetInstanceMap.get(dNode.instance);\n            instanceData.onDetach();\n        }\n        else {\n            if (dNode.children) {\n                callOnDetach(dNode.children, parentInstance);\n            }\n        }\n    }\n}\nfunction nodeToRemove(dnode, transitions, projectionOptions) {\n    if (d_1.isWNode(dnode)) {\n        var rendered = dnode.rendered || emptyArray;\n        for (var i = 0; i < rendered.length; i++) {\n            var child = rendered[i];\n            if (d_1.isHNode(child)) {\n                child.domNode.parentNode.removeChild(child.domNode);\n            }\n            else {\n                nodeToRemove(child, transitions, projectionOptions);\n            }\n        }\n    }\n    else {\n        var domNode_1 = dnode.domNode;\n        var properties = dnode.properties;\n        var exitAnimation = properties.exitAnimation;\n        if (properties && exitAnimation) {\n            domNode_1.style.pointerEvents = 'none';\n            var removeDomNode = function () {\n                domNode_1 && domNode_1.parentNode && domNode_1.parentNode.removeChild(domNode_1);\n            };\n            if (typeof exitAnimation === 'function') {\n                exitAnimation(domNode_1, removeDomNode, properties);\n                return;\n            }\n            else {\n                transitions.exit(dnode.domNode, properties, exitAnimation, removeDomNode);\n                return;\n            }\n        }\n        domNode_1 && domNode_1.parentNode && domNode_1.parentNode.removeChild(domNode_1);\n    }\n}\nfunction checkDistinguishable(childNodes, indexToCheck, parentInstance) {\n    var childNode = childNodes[indexToCheck];\n    if (d_1.isHNode(childNode) && childNode.tag === '') {\n        return; // Text nodes need not be distinguishable\n    }\n    var key = childNode.properties.key;\n    if (key === undefined || key === null) {\n        for (var i = 0; i < childNodes.length; i++) {\n            if (i !== indexToCheck) {\n                var node = childNodes[i];\n                if (same(node, childNode)) {\n                    var parentName = parentInstance.constructor.name || 'unknown';\n                    var nodeIdentifier = d_1.isWNode(childNode) ? childNode.widgetConstructor.name || 'unknown' : childNode.tag;\n                    console.warn(\"A widget (\" + parentName + \") has had a child addded or removed, but they were not able to uniquely identified. It is recommended to provide a unique 'key' property when using the same widget or element (\" + nodeIdentifier + \") multiple times as siblings\");\n                    break;\n                }\n            }\n        }\n    }\n}\nfunction updateChildren(parentHNode, oldChildren, newChildren, parentInstance, projectionOptions) {\n    oldChildren = oldChildren || emptyArray;\n    newChildren = newChildren;\n    var oldChildrenLength = oldChildren.length;\n    var newChildrenLength = newChildren.length;\n    var transitions = projectionOptions.transitions;\n    var oldIndex = 0;\n    var newIndex = 0;\n    var i;\n    var textUpdated = false;\n    var _loop_1 = function () {\n        var oldChild = (oldIndex < oldChildrenLength) ? oldChildren[oldIndex] : undefined;\n        var newChild = newChildren[newIndex];\n        if (oldChild !== undefined && same(oldChild, newChild)) {\n            textUpdated = updateDom(oldChild, newChild, projectionOptions, parentHNode, parentInstance) || textUpdated;\n            oldIndex++;\n        }\n        else {\n            var findOldIndex = findIndexOfChild(oldChildren, newChild, oldIndex + 1);\n            if (findOldIndex >= 0) {\n                var _loop_2 = function () {\n                    var oldChild_1 = oldChildren[i];\n                    var indexToCheck = i;\n                    projectionOptions.afterRenderCallbacks.push(function () {\n                        callOnDetach(oldChild_1, parentInstance);\n                        checkDistinguishable(oldChildren, indexToCheck, parentInstance);\n                    });\n                    nodeToRemove(oldChildren[i], transitions, projectionOptions);\n                };\n                for (i = oldIndex; i < findOldIndex; i++) {\n                    _loop_2();\n                }\n                textUpdated = updateDom(oldChildren[findOldIndex], newChild, projectionOptions, parentHNode, parentInstance) || textUpdated;\n                oldIndex = findOldIndex + 1;\n            }\n            else {\n                var insertBefore = undefined;\n                var child = oldChildren[oldIndex];\n                if (child) {\n                    var nextIndex = oldIndex + 1;\n                    while (insertBefore === undefined) {\n                        if (d_1.isWNode(child)) {\n                            if (child.rendered) {\n                                child = child.rendered[0];\n                            }\n                            else if (oldChildren[nextIndex]) {\n                                child = oldChildren[nextIndex];\n                                nextIndex++;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                        else {\n                            insertBefore = child.domNode;\n                        }\n                    }\n                }\n                createDom(newChild, parentHNode, insertBefore, projectionOptions, parentInstance);\n                nodeAdded(newChild, transitions);\n                var indexToCheck_1 = newIndex;\n                projectionOptions.afterRenderCallbacks.push(function () {\n                    checkDistinguishable(newChildren, indexToCheck_1, parentInstance);\n                });\n            }\n        }\n        newIndex++;\n    };\n    while (newIndex < newChildrenLength) {\n        _loop_1();\n    }\n    if (oldChildrenLength > oldIndex) {\n        var _loop_3 = function () {\n            var oldChild = oldChildren[i];\n            var indexToCheck = i;\n            projectionOptions.afterRenderCallbacks.push(function () {\n                callOnDetach(oldChild, parentInstance);\n                checkDistinguishable(oldChildren, indexToCheck, parentInstance);\n            });\n            nodeToRemove(oldChildren[i], transitions, projectionOptions);\n        };\n        // Remove child fragments\n        for (i = oldIndex; i < oldChildrenLength; i++) {\n            _loop_3();\n        }\n    }\n    return textUpdated;\n}\nfunction addChildren(parentHNode, children, projectionOptions, parentInstance, insertBefore, childNodes) {\n    if (insertBefore === void 0) { insertBefore = undefined; }\n    if (children === undefined) {\n        return;\n    }\n    if (projectionOptions.merge && childNodes === undefined) {\n        childNodes = Array.from(parentHNode.domNode.childNodes);\n    }\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (d_1.isHNode(child)) {\n            if (projectionOptions.merge && childNodes) {\n                var domElement = undefined;\n                while (child.domNode === undefined && childNodes.length > 0) {\n                    domElement = childNodes.shift();\n                    if (domElement && domElement.tagName === (child.tag.toUpperCase() || undefined)) {\n                        child.domNode = domElement;\n                    }\n                }\n            }\n            createDom(child, parentHNode, insertBefore, projectionOptions, parentInstance);\n        }\n        else {\n            createDom(child, parentHNode, insertBefore, projectionOptions, parentInstance, childNodes);\n        }\n    }\n}\nfunction initPropertiesAndChildren(domNode, dnode, parentInstance, projectionOptions) {\n    addChildren(dnode, dnode.children, projectionOptions, parentInstance, undefined);\n    if (typeof dnode.deferredPropertiesCallback === 'function') {\n        addDeferredProperties(dnode, projectionOptions);\n    }\n    updateProperties(domNode, { classes: [], styles: {} }, dnode.properties, projectionOptions);\n    if (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n        var instanceData_1 = exports.widgetInstanceMap.get(parentInstance);\n        instanceData_1.nodeHandler.add(domNode, \"\" + dnode.properties.key);\n        projectionOptions.afterRenderCallbacks.push(function () {\n            instanceData_1.onElementCreated(domNode, dnode.properties.key);\n        });\n    }\n    dnode.inserted = true;\n}\nfunction createDom(dnode, parentHNode, insertBefore, projectionOptions, parentInstance, childNodes) {\n    var domNode;\n    if (d_1.isWNode(dnode)) {\n        var widgetConstructor = dnode.widgetConstructor;\n        var parentInstanceData = exports.widgetInstanceMap.get(parentInstance);\n        if (!Registry_1.isWidgetBaseConstructor(widgetConstructor)) {\n            var item = parentInstanceData.registry().get(widgetConstructor);\n            if (item === null) {\n                return;\n            }\n            widgetConstructor = item;\n        }\n        var instance = new widgetConstructor();\n        dnode.instance = instance;\n        var instanceData_2 = exports.widgetInstanceMap.get(instance);\n        instanceData_2.parentInvalidate = parentInstanceData.invalidate;\n        instance.__setCoreProperties__(dnode.coreProperties);\n        instance.__setChildren__(dnode.children);\n        instance.__setProperties__(dnode.properties);\n        var rendered = instance.__render__();\n        if (rendered) {\n            var filteredRendered = filterAndDecorateChildren(rendered, instance);\n            dnode.rendered = filteredRendered;\n            addChildren(parentHNode, filteredRendered, projectionOptions, instance, insertBefore, childNodes);\n        }\n        instanceData_2.nodeHandler.addRoot();\n        projectionOptions.afterRenderCallbacks.push(function () {\n            instanceData_2.onAttach();\n        });\n    }\n    else {\n        if (projectionOptions.merge && projectionOptions.mergeElement !== undefined) {\n            domNode = dnode.domNode = projectionOptions.mergeElement;\n            projectionOptions.mergeElement = undefined;\n            initPropertiesAndChildren(domNode, dnode, parentInstance, projectionOptions);\n            return;\n        }\n        var doc = parentHNode.domNode.ownerDocument;\n        if (dnode.tag === '') {\n            if (dnode.domNode !== undefined) {\n                var newDomNode = dnode.domNode.ownerDocument.createTextNode(dnode.text);\n                dnode.domNode.parentNode.replaceChild(newDomNode, dnode.domNode);\n                dnode.domNode = newDomNode;\n            }\n            else {\n                domNode = dnode.domNode = doc.createTextNode(dnode.text);\n                if (insertBefore !== undefined) {\n                    parentHNode.domNode.insertBefore(domNode, insertBefore);\n                }\n                else {\n                    parentHNode.domNode.appendChild(domNode);\n                }\n            }\n        }\n        else {\n            if (dnode.domNode === undefined) {\n                if (dnode.tag === 'svg') {\n                    projectionOptions = tslib_1.__assign({}, projectionOptions, { namespace: NAMESPACE_SVG });\n                }\n                if (projectionOptions.namespace !== undefined) {\n                    domNode = dnode.domNode = doc.createElementNS(projectionOptions.namespace, dnode.tag);\n                }\n                else {\n                    domNode = dnode.domNode = (dnode.domNode || doc.createElement(dnode.tag));\n                }\n            }\n            else {\n                domNode = dnode.domNode;\n            }\n            if (insertBefore !== undefined) {\n                parentHNode.domNode.insertBefore(domNode, insertBefore);\n            }\n            else if (domNode.parentNode !== parentHNode.domNode) {\n                parentHNode.domNode.appendChild(domNode);\n            }\n            initPropertiesAndChildren(domNode, dnode, parentInstance, projectionOptions);\n        }\n    }\n}\nfunction updateDom(previous, dnode, projectionOptions, parentHNode, parentInstance) {\n    if (d_1.isWNode(dnode)) {\n        var instance = previous.instance, previousRendered = previous.rendered;\n        if (instance && previousRendered) {\n            var instanceData = exports.widgetInstanceMap.get(instance);\n            instance.__setCoreProperties__(dnode.coreProperties);\n            instance.__setChildren__(dnode.children);\n            instance.__setProperties__(dnode.properties);\n            dnode.instance = instance;\n            if (instanceData.dirty === true) {\n                var rendered = instance.__render__();\n                dnode.rendered = filterAndDecorateChildren(rendered, instance);\n                updateChildren(parentHNode, previousRendered, dnode.rendered, instance, projectionOptions);\n            }\n            else {\n                dnode.rendered = previousRendered;\n            }\n            instanceData.nodeHandler.addRoot();\n        }\n        else {\n            createDom(dnode, parentHNode, undefined, projectionOptions, parentInstance);\n        }\n    }\n    else {\n        if (previous === dnode) {\n            return false;\n        }\n        var domNode_2 = dnode.domNode = previous.domNode;\n        var textUpdated = false;\n        var updated = false;\n        dnode.inserted = previous.inserted;\n        if (dnode.tag === '') {\n            if (dnode.text !== previous.text) {\n                var newDomNode = domNode_2.ownerDocument.createTextNode(dnode.text);\n                domNode_2.parentNode.replaceChild(newDomNode, domNode_2);\n                dnode.domNode = newDomNode;\n                textUpdated = true;\n                return textUpdated;\n            }\n        }\n        else {\n            if (dnode.tag.lastIndexOf('svg', 0) === 0) {\n                projectionOptions = tslib_1.__assign({}, projectionOptions, { namespace: NAMESPACE_SVG });\n            }\n            if (previous.children !== dnode.children) {\n                var children = filterAndDecorateChildren(dnode.children, parentInstance);\n                dnode.children = children;\n                updated = updateChildren(dnode, previous.children, children, parentInstance, projectionOptions) || updated;\n            }\n            if (typeof dnode.deferredPropertiesCallback === 'function') {\n                addDeferredProperties(dnode, projectionOptions);\n            }\n            updated = updateProperties(domNode_2, previous.properties, dnode.properties, projectionOptions) || updated;\n            if (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n                var instanceData_3 = exports.widgetInstanceMap.get(parentInstance);\n                instanceData_3.nodeHandler.add(domNode_2, \"\" + dnode.properties.key);\n                projectionOptions.afterRenderCallbacks.push(function () {\n                    instanceData_3.onElementUpdated(domNode_2, dnode.properties.key);\n                });\n            }\n        }\n        if (updated && dnode.properties && dnode.properties.updateAnimation) {\n            dnode.properties.updateAnimation(domNode_2, dnode.properties, previous.properties);\n        }\n        return textUpdated;\n    }\n}\nfunction addDeferredProperties(hnode, projectionOptions) {\n    // transfer any properties that have been passed - as these must be decorated properties\n    hnode.decoratedDeferredProperties = hnode.properties;\n    var properties = hnode.deferredPropertiesCallback(!!hnode.inserted);\n    hnode.properties = tslib_1.__assign({}, properties, hnode.decoratedDeferredProperties);\n    projectionOptions.deferredRenderCallbacks.push(function () {\n        var properties = tslib_1.__assign({}, hnode.deferredPropertiesCallback(!!hnode.inserted), hnode.decoratedDeferredProperties);\n        updateProperties(hnode.domNode, hnode.properties, properties, projectionOptions);\n        hnode.properties = properties;\n    });\n}\nfunction runDeferredRenderCallbacks(projectionOptions) {\n    if (projectionOptions.deferredRenderCallbacks.length) {\n        if (projectionOptions.sync) {\n            while (projectionOptions.deferredRenderCallbacks.length) {\n                var callback = projectionOptions.deferredRenderCallbacks.shift();\n                callback && callback();\n            }\n        }\n        else {\n            window.requestAnimationFrame(function () {\n                while (projectionOptions.deferredRenderCallbacks.length) {\n                    var callback = projectionOptions.deferredRenderCallbacks.shift();\n                    callback && callback();\n                }\n            });\n        }\n    }\n}\nfunction runAfterRenderCallbacks(projectionOptions) {\n    if (projectionOptions.sync) {\n        while (projectionOptions.afterRenderCallbacks.length) {\n            var callback = projectionOptions.afterRenderCallbacks.shift();\n            callback && callback();\n        }\n    }\n    else {\n        if (window.requestIdleCallback) {\n            window.requestIdleCallback(function () {\n                while (projectionOptions.afterRenderCallbacks.length) {\n                    var callback = projectionOptions.afterRenderCallbacks.shift();\n                    callback && callback();\n                }\n            });\n        }\n        else {\n            setTimeout(function () {\n                while (projectionOptions.afterRenderCallbacks.length) {\n                    var callback = projectionOptions.afterRenderCallbacks.shift();\n                    callback && callback();\n                }\n            });\n        }\n    }\n}\nfunction createProjection(dnode, parentInstance, projectionOptions) {\n    var projectionDNode = Array.isArray(dnode) ? dnode : [dnode];\n    projectionOptions.merge = false;\n    return {\n        update: function (updatedDNode) {\n            var domNode = projectionOptions.rootNode;\n            updatedDNode = filterAndDecorateChildren(updatedDNode, parentInstance);\n            updateChildren(toParentHNode(domNode), projectionDNode, updatedDNode, parentInstance, projectionOptions);\n            var instanceData = exports.widgetInstanceMap.get(parentInstance);\n            instanceData.nodeHandler.addRoot();\n            runDeferredRenderCallbacks(projectionOptions);\n            runAfterRenderCallbacks(projectionOptions);\n            projectionDNode = updatedDNode;\n        },\n        domNode: projectionOptions.rootNode\n    };\n}\nexports.dom = {\n    merge: function (element, dNode, instance, projectionOptions) {\n        if (Array.isArray(dNode)) {\n            throw new Error('Unable to merge an array of nodes. (consider adding one extra level to the virtual DOM)');\n        }\n        var finalProjectorOptions = getProjectionOptions(projectionOptions);\n        finalProjectorOptions.merge = true;\n        finalProjectorOptions.mergeElement = element;\n        finalProjectorOptions.rootNode = element.parentNode;\n        var decoratedNode = filterAndDecorateChildren(dNode, instance)[0];\n        createDom(decoratedNode, toParentHNode(finalProjectorOptions.rootNode), undefined, finalProjectorOptions, instance);\n        var instanceData = exports.widgetInstanceMap.get(instance);\n        instanceData.nodeHandler.addRoot();\n        finalProjectorOptions.afterRenderCallbacks.push(function () {\n            instanceData.onAttach();\n        });\n        runDeferredRenderCallbacks(finalProjectorOptions);\n        runAfterRenderCallbacks(finalProjectorOptions);\n        return createProjection(decoratedNode, instance, finalProjectorOptions);\n    }\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(10);\n__webpack_require__(12);\n__webpack_require__(15);\nmodule.exports = __webpack_require__(16);\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(11).install();\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nvar appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar has_1 = __webpack_require__(7);\nif (!has_1.exists('build-time-render')) {\n    has_1.add('build-time-render', false, false);\n}\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Projector_1 = __webpack_require__(17);\nvar Registry_1 = __webpack_require__(3);\n// import { registerRouterInjector } from '@dojo/routing/RouterInjector';\nvar Context_1 = __webpack_require__(19);\nvar AppContainer_1 = __webpack_require__(21);\nvar registry = new Registry_1.Registry();\nvar context = new Context_1.Context();\nregistry.defineInjector('state', context);\n// const routingConfig = [\n// \t{\n// \t\tpath: 'user/{user}',\n// \t\toutlet: 'user'\n// \t},\n// \t{\n// \t\tpath: 'comments/{id}',\n// \t\toutlet: 'comments'\n// \t},\n// \t{\n// \t\tpath: '{category}/{page}',\n// \t\toutlet: 'content',\n// \t\tdefaultRoute: true,\n// \t\tdefaultParams: {\n// \t\t\tcategory: 'top',\n// \t\t\tpage: 1\n// \t\t}\n// \t}\n// ];\n// const router = registerRouterInjector(routingConfig, registry);\n// router.start();\nfunction router() {\n    var _a = window.location.hash.split('/'), _b = _a[1], route = _b === void 0 ? 'top' : _b, _c = _a[2], id = _c === void 0 ? '1' : _c;\n    if (route === 'user') {\n        context.route = 'user';\n        context.emit({ type: 'invalidate' });\n    }\n    else if (route === 'comments') {\n        if (id !== context.itemId || context.route !== 'comments') {\n            context.fetchItem(id);\n        }\n    }\n    else {\n        if (route !== context.category || parseInt(id, 10) !== context.page || context.route !== 'content') {\n            context.fetchStories(route, parseInt(id, 10));\n        }\n    }\n}\nwindow.onhashchange = router;\nrouter();\nvar Projector = Projector_1.ProjectorMixin(AppContainer_1.AppContainer);\nvar projector = new Projector();\nprojector.setProperties({ registry: registry });\nprojector.merge(document.getElementById('app') || undefined);\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar afterRender_1 = __webpack_require__(18);\nvar d_1 = __webpack_require__(0);\nvar vdom_1 = __webpack_require__(8);\n/**\n * Represents the attach state of the projector\n */\nvar ProjectorAttachState;\n(function (ProjectorAttachState) {\n    ProjectorAttachState[ProjectorAttachState[\"Attached\"] = 1] = \"Attached\";\n    ProjectorAttachState[ProjectorAttachState[\"Detached\"] = 2] = \"Detached\";\n})(ProjectorAttachState = exports.ProjectorAttachState || (exports.ProjectorAttachState = {}));\n/**\n * Attach type for the projector\n */\nvar AttachType;\n(function (AttachType) {\n    AttachType[AttachType[\"Append\"] = 1] = \"Append\";\n    AttachType[AttachType[\"Merge\"] = 2] = \"Merge\";\n    AttachType[AttachType[\"Replace\"] = 3] = \"Replace\";\n})(AttachType = exports.AttachType || (exports.AttachType = {}));\nfunction ProjectorMixin(Base) {\n    var Projector = /** @class */ (function (_super) {\n        tslib_1.__extends(Projector, _super);\n        function Projector() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var _this = _super.apply(this, tslib_1.__spread(args)) || this;\n            _this._async = true;\n            _this._projectorChildren = [];\n            _this._projectorProperties = {};\n            var instanceData = vdom_1.widgetInstanceMap.get(_this);\n            instanceData.parentInvalidate = function () {\n                _this.scheduleRender();\n            };\n            _this._projectionOptions = {};\n            _this._boundDoRender = _this._doRender.bind(_this);\n            _this._boundRender = _this.__render__.bind(_this);\n            _this.projectorState = ProjectorAttachState.Detached;\n            return _this;\n        }\n        Projector.prototype.merge = function (root) {\n            var options = {\n                type: AttachType.Merge,\n                root: root\n            };\n            return this._attach(options);\n        };\n        Projector.prototype.pause = function () {\n            if (this._scheduled) {\n                window.cancelAnimationFrame(this._scheduled);\n                this._scheduled = undefined;\n            }\n            this._paused = true;\n        };\n        Projector.prototype.resume = function () {\n            this._paused = false;\n            this.scheduleRender();\n        };\n        Projector.prototype.scheduleRender = function () {\n            if (this.projectorState === ProjectorAttachState.Attached) {\n                this.__setProperties__(this._projectorProperties);\n                this.__setChildren__(this._projectorChildren);\n                this._renderState = 1;\n                if (!this._scheduled && !this._paused) {\n                    if (this._async) {\n                        this._scheduled = window.requestAnimationFrame(this._boundDoRender);\n                    }\n                    else {\n                        this._boundDoRender();\n                    }\n                }\n            }\n        };\n        Object.defineProperty(Projector.prototype, \"async\", {\n            get: function () {\n                return this._async;\n            },\n            set: function (async) {\n                if (this.projectorState === ProjectorAttachState.Attached) {\n                    throw new Error('Projector already attached, cannot change async mode');\n                }\n                this._async = async;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Projector.prototype.setChildren = function (children) {\n            this.__setChildren__(children);\n            this.scheduleRender();\n        };\n        Projector.prototype.__setChildren__ = function (children) {\n            this._projectorChildren = tslib_1.__spread(children);\n            _super.prototype.__setChildren__.call(this, children);\n        };\n        Projector.prototype.setProperties = function (properties) {\n            this.__setProperties__(properties);\n            this.scheduleRender();\n        };\n        Projector.prototype.__setProperties__ = function (properties) {\n            this._projectorProperties = tslib_1.__assign({}, properties);\n            _super.prototype.__setCoreProperties__.call(this, { bind: this, baseRegistry: properties.registry });\n            _super.prototype.__setProperties__.call(this, properties);\n        };\n        Projector.prototype.afterRender = function (result) {\n            var node = result;\n            if (typeof result === 'string' || result === null || result === undefined) {\n                node = d_1.v('span', {}, [result]);\n            }\n            return node;\n        };\n        Projector.prototype._doRender = function () {\n            this._scheduled = undefined;\n            if (this._projection) {\n                this._projection.update(this._boundRender());\n            }\n        };\n        Projector.prototype._attach = function (_a) {\n            var type = _a.type, _b = _a.root, root = _b === void 0 ? document.body : _b;\n            this.projectorState = ProjectorAttachState.Attached;\n            this._projectionOptions = tslib_1.__assign({}, this._projectionOptions, { sync: !this._async });\n            this._projection = vdom_1.dom.merge(root, this._boundRender(), this, this._projectionOptions);\n        };\n        tslib_1.__decorate([\n            afterRender_1.afterRender(),\n            tslib_1.__metadata(\"design:type\", Function),\n            tslib_1.__metadata(\"design:paramtypes\", [Object]),\n            tslib_1.__metadata(\"design:returntype\", void 0)\n        ], Projector.prototype, \"afterRender\", null);\n        return Projector;\n    }(Base));\n    return Projector;\n}\nexports.ProjectorMixin = ProjectorMixin;\nexports.default = ProjectorMixin;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar handleDecorator_1 = __webpack_require__(6);\nfunction afterRender(method) {\n    return handleDecorator_1.handleDecorator(function (target, propertyKey) {\n        target.addDecorator('afterRender', propertyKey ? target[propertyKey] : method);\n    });\n}\nexports.afterRender = afterRender;\nexports.default = afterRender;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar has_1 = __webpack_require__(7);\nvar Injector_1 = __webpack_require__(20);\nvar Context = /** @class */ (function (_super) {\n    __extends(Context, _super);\n    function Context() {\n        return _super.call(this, {}) || this;\n    }\n    Context.prototype.fetchStories = function (category, page) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this._page = page;\n                        this._category = category;\n                        this._route = 'content';\n                        this._articles = undefined;\n                        this.emit({ type: 'invalidate' });\n                        if (!!has_1.default('build-time-render')) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, fetch(\"https://agubler.github.io/test-hnpwa/articles.json\").then(function (response) { return response.json(); })];\n                    case 1:\n                        _a._articles = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.emit({ type: 'invalidate' });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Context.prototype.fetchItem = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this._item = undefined;\n                        this._itemId = id;\n                        this._route = 'comments';\n                        this.emit({ type: 'invalidate' });\n                        if (!!has_1.default('build-time-render')) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, fetch(\"https://api.hackerwebapp.com/item/\" + id).then(function (response) { return response.json(); })];\n                    case 1:\n                        _a._item = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.emit({ type: 'invalidate' });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Context.prototype.get = function () {\n        return this;\n    };\n    Object.defineProperty(Context.prototype, \"articles\", {\n        get: function () {\n            return this._articles;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"category\", {\n        get: function () {\n            return this._category;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"page\", {\n        get: function () {\n            return this._page;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"item\", {\n        get: function () {\n            return this._item;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"route\", {\n        get: function () {\n            return this._route;\n        },\n        set: function (route) {\n            this._route = route;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"itemId\", {\n        get: function () {\n            return this._itemId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Context;\n}(Injector_1.Injector));\nexports.Context = Context;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar Evented_1 = __webpack_require__(4);\nvar Injector = /** @class */ (function (_super) {\n    tslib_1.__extends(Injector, _super);\n    function Injector(payload) {\n        var _this = _super.call(this) || this;\n        _this._payload = payload;\n        return _this;\n    }\n    Injector.prototype.get = function () {\n        return this._payload;\n    };\n    Injector.prototype.set = function (payload) {\n        this._payload = payload;\n        this.emit({ type: 'invalidate' });\n    };\n    return Injector;\n}(Evented_1.Evented));\nexports.Injector = Injector;\nexports.default = Injector;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = __webpack_require__(5);\nvar App_1 = __webpack_require__(27);\nfunction getProperties(context, properties) {\n    return {\n        route: context.route\n    };\n}\nexports.AppContainer = Container_1.Container(App_1.App, 'state', { getProperties: getProperties });\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry_1 = __webpack_require__(3);\nfunction isObjectOrArray(value) {\n    return Object.prototype.toString.call(value) === '[object Object]' || Array.isArray(value);\n}\nfunction always(previousProperty, newProperty) {\n    return {\n        changed: true,\n        value: newProperty\n    };\n}\nexports.always = always;\nfunction ignore(previousProperty, newProperty) {\n    return {\n        changed: false,\n        value: newProperty\n    };\n}\nexports.ignore = ignore;\nfunction reference(previousProperty, newProperty) {\n    return {\n        changed: previousProperty !== newProperty,\n        value: newProperty\n    };\n}\nexports.reference = reference;\nfunction shallow(previousProperty, newProperty) {\n    var changed = false;\n    var validOldProperty = previousProperty && isObjectOrArray(previousProperty);\n    var validNewProperty = newProperty && isObjectOrArray(newProperty);\n    if (!validOldProperty || !validNewProperty) {\n        return {\n            changed: true,\n            value: newProperty\n        };\n    }\n    var previousKeys = Object.keys(previousProperty);\n    var newKeys = Object.keys(newProperty);\n    if (previousKeys.length !== newKeys.length) {\n        changed = true;\n    }\n    else {\n        changed = newKeys.some(function (key) {\n            return newProperty[key] !== previousProperty[key];\n        });\n    }\n    return {\n        changed: changed,\n        value: newProperty\n    };\n}\nexports.shallow = shallow;\nfunction auto(previousProperty, newProperty) {\n    var result;\n    if (typeof newProperty === 'function') {\n        if (newProperty._type === Registry_1.WIDGET_BASE_TYPE) {\n            result = reference(previousProperty, newProperty);\n        }\n        else {\n            result = ignore(previousProperty, newProperty);\n        }\n    }\n    else if (isObjectOrArray(newProperty)) {\n        result = shallow(previousProperty, newProperty);\n    }\n    else {\n        result = reference(previousProperty, newProperty);\n    }\n    return result;\n}\nexports.auto = auto;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar Evented_1 = __webpack_require__(4);\nvar Registry_1 = __webpack_require__(3);\nvar RegistryHandler = /** @class */ (function (_super) {\n    tslib_1.__extends(RegistryHandler, _super);\n    function RegistryHandler() {\n        var _this = _super.call(this) || this;\n        _this._registry = new Registry_1.Registry();\n        _this._registryWidgetLabelMap = new Map();\n        _this._registryInjectorLabelMap = new Map();\n        return _this;\n    }\n    Object.defineProperty(RegistryHandler.prototype, \"base\", {\n        set: function (baseRegistry) {\n            this._registryWidgetLabelMap.delete(this._baseRegistry);\n            this._registryInjectorLabelMap.delete(this._baseRegistry);\n            this._baseRegistry = baseRegistry;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RegistryHandler.prototype.define = function (label, widget) {\n        this._registry.define(label, widget);\n    };\n    RegistryHandler.prototype.defineInjector = function (label, injector) {\n        this._registry.defineInjector(label, injector);\n    };\n    RegistryHandler.prototype.has = function (label) {\n        return this._registry.has(label) || this._baseRegistry.has(label);\n    };\n    RegistryHandler.prototype.hasInjector = function (label) {\n        return this._registry.hasInjector(label) || this._baseRegistry.hasInjector(label);\n    };\n    RegistryHandler.prototype.get = function (label, globalPrecedence) {\n        if (globalPrecedence === void 0) { globalPrecedence = false; }\n        return this._get(label, globalPrecedence, 'get', this._registryWidgetLabelMap);\n    };\n    RegistryHandler.prototype.getInjector = function (label, globalPrecedence) {\n        if (globalPrecedence === void 0) { globalPrecedence = false; }\n        return this._get(label, globalPrecedence, 'getInjector', this._registryInjectorLabelMap);\n    };\n    RegistryHandler.prototype._get = function (label, globalPrecedence, getFunctionName, labelMap) {\n        var _this = this;\n        var registries = globalPrecedence ? [this._baseRegistry, this._registry] : [this._registry, this._baseRegistry];\n        for (var i = 0; i < registries.length; i++) {\n            var registry = registries[i];\n            if (!registry) {\n                continue;\n            }\n            var item = registry[getFunctionName](label);\n            var registeredLabels = labelMap.get(registry) || [];\n            if (item) {\n                return item;\n            }\n            else if (registeredLabels.indexOf(label) === -1) {\n                registry.on(label, function (event) {\n                    if (event.action === 'loaded' && _this[getFunctionName](label, globalPrecedence) === event.item) {\n                        _this.emit({ type: 'invalidate' });\n                    }\n                });\n                labelMap.set(registry, tslib_1.__spread(registeredLabels, [label]));\n            }\n        }\n        return null;\n    };\n    return RegistryHandler;\n}(Evented_1.Evented));\nexports.RegistryHandler = RegistryHandler;\nexports.default = RegistryHandler;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(1);\nvar Evented_1 = __webpack_require__(4);\n/**\n * Enum to identify the type of event.\n * Listening to 'Projector' will notify when projector is created or updated\n * Listening to 'Widget' will notify when widget root is created or updated\n */\nvar NodeEventType;\n(function (NodeEventType) {\n    NodeEventType[\"Projector\"] = \"Projector\";\n    NodeEventType[\"Widget\"] = \"Widget\";\n})(NodeEventType = exports.NodeEventType || (exports.NodeEventType = {}));\nvar NodeHandler = /** @class */ (function (_super) {\n    tslib_1.__extends(NodeHandler, _super);\n    function NodeHandler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._nodeMap = new Map();\n        return _this;\n    }\n    NodeHandler.prototype.get = function (key) {\n        return this._nodeMap.get(key);\n    };\n    NodeHandler.prototype.has = function (key) {\n        return this._nodeMap.has(key);\n    };\n    NodeHandler.prototype.add = function (element, key) {\n        this._nodeMap.set(key, element);\n        this.emit({ type: key });\n    };\n    NodeHandler.prototype.addRoot = function () {\n        this.emit({ type: NodeEventType.Widget });\n    };\n    NodeHandler.prototype.addProjector = function () {\n        this.emit({ type: NodeEventType.Projector });\n    };\n    NodeHandler.prototype.clear = function () {\n        this._nodeMap.clear();\n    };\n    return NodeHandler;\n}(Evented_1.Evented));\nexports.NodeHandler = NodeHandler;\nexports.default = NodeHandler;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar handleDecorator_1 = __webpack_require__(6);\nvar beforeProperties_1 = __webpack_require__(26);\n/**\n * Map of instances against registered injectors.\n */\nvar registeredInjectorsMap = new WeakMap();\n/**\n * Decorator retrieves an injector from an available registry using the name and\n * calls the `getProperties` function with the payload from the injector\n * and current properties with the the injected properties returned.\n *\n * @param InjectConfig the inject configuration\n */\nfunction inject(_a) {\n    var name = _a.name, getProperties = _a.getProperties;\n    return handleDecorator_1.handleDecorator(function (target, propertyKey) {\n        beforeProperties_1.beforeProperties(function (properties) {\n            var _this = this;\n            var injector = this.registry.getInjector(name);\n            if (injector) {\n                var registeredInjectors = registeredInjectorsMap.get(this) || [];\n                if (registeredInjectors.length === 0) {\n                    registeredInjectorsMap.set(this, registeredInjectors);\n                }\n                if (registeredInjectors.indexOf(injector) === -1) {\n                    injector.on('invalidate', function () {\n                        _this.invalidate();\n                    });\n                    registeredInjectors.push(injector);\n                }\n                return getProperties(injector.get(), properties);\n            }\n        })(target);\n    });\n}\nexports.inject = inject;\nexports.default = inject;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar handleDecorator_1 = __webpack_require__(6);\nfunction beforeProperties(method) {\n    return handleDecorator_1.handleDecorator(function (target, propertyKey) {\n        target.addDecorator('beforeProperties', propertyKey ? target[propertyKey] : method);\n    });\n}\nexports.beforeProperties = beforeProperties;\nexports.default = beforeProperties;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d_1 = __webpack_require__(0);\nvar WidgetBase_1 = __webpack_require__(2);\nvar ContentContainer_1 = __webpack_require__(28);\nvar CommentsContainer_1 = __webpack_require__(33);\nvar MenuContainer_1 = __webpack_require__(40);\nvar css = __webpack_require__(45);\nvar App = /** @class */ (function (_super) {\n    __extends(App, _super);\n    function App() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    App.prototype.render = function () {\n        var route = this.properties.route;\n        return d_1.v('div', [\n            d_1.w(MenuContainer_1.MenuContainer, {}),\n            d_1.v('main', { classes: css.main }, [\n                route === 'content' ? d_1.w(ContentContainer_1.ContentContainer, {}) : null,\n                route === 'comments' ? d_1.w(CommentsContainer_1.CommentsContainer, {}) : null\n            ])\n        ]);\n    };\n    return App;\n}(WidgetBase_1.WidgetBase));\nexports.App = App;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = __webpack_require__(5);\nvar Content_1 = __webpack_require__(29);\nfunction getProperties(context, properties) {\n    return {\n        articles: context.articles,\n        category: context.category,\n        pageNumber: context.page\n    };\n}\nexports.ContentContainer = Container_1.Container(Content_1.Content, 'state', { getProperties: getProperties });\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar Article_1 = __webpack_require__(30);\nvar css = __webpack_require__(32);\nvar Content = /** @class */ (function (_super) {\n    __extends(Content, _super);\n    function Content() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Content.prototype.render = function () {\n        var _a = this.properties, _b = _a.articles, articles = _b === void 0 ? [] : _b, pageNumber = _a.pageNumber, category = _a.category;\n        var articlesNodes = [];\n        var length = articles.length || 30;\n        for (var index = 0; index < length; index++) {\n            articlesNodes.push(d_1.w(Article_1.Article, { key: index, index: index, item: articles[index], pageNumber: pageNumber }));\n        }\n        var pagination = d_1.v('div', { classes: css.pagination }, [\n            pageNumber > 1 ? d_1.v('a', {\n                key: 'prev',\n                href: \"#/\" + category + \"/\" + (pageNumber - 1),\n                classes: css.pageLink,\n                styles: {\n                    color: '#000'\n                }\n            }, ['< prev']) : d_1.v('a', {\n                key: 'disabled-prev',\n                classes: css.pageLink,\n                styles: {\n                    color: 'rgba(49, 40, 40, 0.65)'\n                }\n            }, ['< prev']),\n            d_1.v('span', { classes: css.pageNumber }, [\"\" + pageNumber]),\n            articles.length === 30 ? d_1.v('a', {\n                href: \"#/\" + category + \"/\" + (pageNumber + 1),\n                classes: css.pageLink,\n                styles: {\n                    color: '#000'\n                }\n            }, ['next >']) : d_1.v('a', {\n                key: 'disabled-next',\n                classes: css.pageLink,\n                styles: {\n                    color: 'rgba(49, 40, 40, 0.65)'\n                }\n            }, ['next >'])\n        ]);\n        return [pagination].concat(articlesNodes);\n    };\n    return Content;\n}(WidgetBase_1.WidgetBase));\nexports.Content = Content;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d_1 = __webpack_require__(0);\nvar WidgetBase_1 = __webpack_require__(2);\nvar css = __webpack_require__(31);\nvar Article = /** @class */ (function (_super) {\n    __extends(Article, _super);\n    function Article() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Article.prototype._articleShell = function () {\n        var percent = Math.floor(Math.random() * 20 + 80);\n        return [\n            d_1.v('h2', { styles: { width: percent + \"%\" }, classes: [css.titleShell, css.animated, css.animatedTitle] }),\n            d_1.v('p', { classes: [css.subtitleShell, css.animated, css.animatedSubTitle] })\n        ];\n    };\n    Article.prototype._renderArticle = function (article) {\n        var url = article.url, title = article.title, points = article.points, user = article.user, id = article.id, comments_count = article.comments_count, time_ago = article.time_ago;\n        var commentText = comments_count === 0 ? 'discuss' : comments_count + \" comments\";\n        var isComment = url.substr(0, 8) === 'item?id=';\n        var articleLink = d_1.v('a', {\n            key: 'article',\n            href: isComment ? \"#/comments/\" + url.substr(8) : url,\n            target: isComment ? undefined : 'none'\n        }, [title]);\n        return [\n            d_1.v('h2', { classes: css.title, styles: {} }, [articleLink]),\n            d_1.v('p', { classes: css.details }, [\n                d_1.v('span', { key: 'points' }, [(points || 0) + \" points \" + (user ? 'by ' : '')]),\n                user ? d_1.v('a', {\n                    key: 'user',\n                    href: \"#/user/\" + user,\n                    classes: css.link\n                }, [\n                    user\n                ]) : null,\n                d_1.v('span', { key: 'time-ago' }, [\" \" + time_ago + \" \"]),\n                d_1.v('a', {\n                    key: 'comments',\n                    href: \"#/comments/\" + id,\n                    classes: css.link\n                }, [commentText])\n            ])\n        ];\n    };\n    Article.prototype.render = function () {\n        var _a = this.properties, item = _a.item, index = _a.index, pageNumber = _a.pageNumber;\n        var articleNumber = \"\" + ((pageNumber - 1) * 30 + index + 1);\n        return d_1.v('article', { classes: css.root }, [\n            d_1.v('span', { classes: css.pageNumber }, [articleNumber]),\n            d_1.v('div', {\n                key: index,\n                classes: css.post\n            }, item ? this._renderArticle(item) : this._articleShell())\n        ]);\n    };\n    return Article;\n}(WidgetBase_1.WidgetBase));\nexports.Article = Article;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"article\",\"root\":\"_25Pck9HL\",\"pageNumber\":\"_2w4AqmJQ\",\"post\":\"_3XB5fE0_\",\"title\":\"_3LLrYYZ1\",\"details\":\"_1V_edkRC\",\"link\":\"_2iNp8P4w\",\"comments\":\"_2cpI_Mjd\",\"animated\":\"_2V3_tXBL\",\"placeHolderShimmer\":\"_1Bp0AL0K\",\"animatedTitle\":\"p2vwPrI-\",\"animatedSubTitle\":\"_1lBoojPu\",\"titleShell\":\"_2Ku851Pk\",\"subtitleShell\":\"_1bX4ME4k\"};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"content\",\"pageLink\":\"_2LM_mtSl\",\"pagination\":\"_2z4dHPNL\",\"pageNumber\":\"_6qE-Cese\"};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = __webpack_require__(5);\nvar Comments_1 = __webpack_require__(34);\nfunction getProperties(context, properties) {\n    var id = properties.id;\n    return {\n        item: context.item,\n        id: id\n    };\n}\nexports.CommentsContainer = Container_1.Container(Comments_1.Comments, 'state', { getProperties: getProperties });\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar Comment_1 = __webpack_require__(35);\nvar Loading_1 = __webpack_require__(37);\nvar css = __webpack_require__(39);\nvar Comments = /** @class */ (function (_super) {\n    __extends(Comments, _super);\n    function Comments() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Comments.prototype.render = function () {\n        var item = this.properties.item;\n        return item ? [\n            d_1.v('article', { classes: css.article }, [\n                d_1.v('h1', [\n                    d_1.v('a', { href: item.url, classes: css.title }, [item.title])\n                ]),\n                d_1.v('p', [\n                    (item.points || 0) + \" points\",\n                    item.user ? d_1.v('a', {\n                        key: 'user',\n                        href: \"#/user/\" + item.user,\n                        classes: css.user\n                    }, [\n                        \" by \" + item.user\n                    ]) : null\n                ])\n            ]),\n            d_1.v('div', { classes: css.comments }, [\n                d_1.v('h2', { classes: css.commentCount }, [item.comments_count + \" comments\"]),\n                d_1.v('div', item.comments.map(function (comment, index) {\n                    return d_1.w(Comment_1.Comment, { key: index, comment: comment });\n                }))\n            ])\n        ] : d_1.w(Loading_1.Loading, {});\n    };\n    return Comments;\n}(WidgetBase_1.WidgetBase));\nexports.Comments = Comments;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar css = __webpack_require__(36);\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Comment.prototype.render = function () {\n        var _a = this.properties.comment, user = _a.user, content = _a.content, time_ago = _a.time_ago, _b = _a.comments, comments = _b === void 0 ? [] : _b;\n        return d_1.v('div', { classes: css.root }, [\n            d_1.v('header', { classes: css.padding }, [\n                user ? d_1.v('a', {\n                    key: 'user',\n                    href: \"#/user/\" + user,\n                    classes: css.user\n                }, [user]) : null,\n                d_1.v('span', { classes: css.time }, [time_ago])\n            ]),\n            d_1.v('div', { key: 'content', innerHTML: content, classes: css.comment }),\n            d_1.v('div', { key: 'comments', classes: css.padding }, comments.map(function (comment, index) {\n                return d_1.w(Comment, { comment: comment, key: index });\n            }))\n        ]);\n    };\n    return Comment;\n}(WidgetBase_1.WidgetBase));\nexports.Comment = Comment;\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"comment\",\"root\":\"pMN12bHs\",\"padding\":\"UR0OJAIy\",\"user\":\"_1dY2vtTm\",\"time\":\"_2Qtl0SzL\",\"comment\":\"_2va-73Cf\"};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar css = __webpack_require__(38);\nvar Loading = /** @class */ (function (_super) {\n    __extends(Loading, _super);\n    function Loading() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Loading.prototype.render = function () {\n        return d_1.v('div', { key: this.properties.key, classes: css.spinner });\n    };\n    return Loading;\n}(WidgetBase_1.WidgetBase));\nexports.Loading = Loading;\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"loading\",\"spinner\":\"_4Ju1HXhy\",\"sk-scaleout\":\"hC-Nk2Mx\"};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"comments\",\"article\":\"_2NGniQ8a\",\"title\":\"_1L07Wn8k\",\"user\":\"_3iYvUP2G\",\"comments\":\"_2z1n0C37\",\"commentCount\":\"_1lGsJjrS\"};\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Container_1 = __webpack_require__(5);\nvar Menu_1 = __webpack_require__(41);\nfunction getProperties(context, properties) {\n    return {\n        currentCategory: context.category\n    };\n}\nexports.MenuContainer = Container_1.Container(Menu_1.Menu, 'state', { getProperties: getProperties });\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar MenuItem_1 = __webpack_require__(42);\nvar css = __webpack_require__(44);\nvar categories = ['top', 'new', 'show', 'ask', 'jobs'];\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    function Menu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // private _logoLoaded = false;\n    // private _onLogoLoad() {\n    // \tthis._logoLoaded = true;\n    // \tthis.invalidate();\n    // }\n    Menu.prototype.render = function () {\n        var _a = this.properties.currentCategory, currentCategory = _a === void 0 ? '' : _a;\n        return d_1.v('nav', { classes: css.root }, [\n            d_1.v('a', { href: '#/top/1', classes: css.home }, []),\n            d_1.v('ol', { classes: css.menuContainer }, categories.map(function (category) {\n                return d_1.w(MenuItem_1.MenuItem, {\n                    key: category,\n                    selected: category === currentCategory,\n                    category: category\n                }, [category]);\n            }).slice())\n        ]);\n    };\n    return Menu;\n}(WidgetBase_1.WidgetBase));\nexports.Menu = Menu;\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WidgetBase_1 = __webpack_require__(2);\nvar d_1 = __webpack_require__(0);\nvar css = __webpack_require__(43);\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MenuItem.prototype.render = function () {\n        var selected = this.properties.selected;\n        return d_1.v('li', { classes: css.root }, [\n            d_1.v('a', {\n                href: \"#/\" + this.properties.category + \"/1\",\n                classes: [css.item, selected ? css.selected : null]\n            }, this.children)\n        ]);\n    };\n    return MenuItem;\n}(WidgetBase_1.WidgetBase));\nexports.MenuItem = MenuItem;\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"menuItem\",\"root\":\"_3nC3wHuO\",\"item\":\"_2otQ-Bk4\",\"selected\":\"_3H86Omvm\"};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"menu\",\"root\":\"_34HPGizk\",\"menuContainer\":\"_1lZUlBuW\",\"home\":\"_3ExrLjEz\",\"logoLoaded\":\"_1EbSAPOw\",\"fadein\":\"_34vksMod\",\"logo\":\"_2cdP4aDq\"};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"app\",\"main\":\"NiAAEtki\"};\n\n/***/ })\n/******/ ]);\n})\n// When using require, call the module automatically\ntypeof define === 'function' && define.amd && require(['src/main']);\n;\n\n\n// WEBPACK FOOTER //\n// src/main.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0ca888b59908050bef6","import {\n\tConstructor,\n\tDefaultWidgetBaseInterface,\n\tDeferredVirtualProperties,\n\tDNode,\n\tHNode,\n\tRegistryLabel,\n\tVirtualDomProperties,\n\tWidgetBaseInterface,\n\tWNode\n} from './interfaces';\n\n/**\n * The symbol identifier for a WNode type\n */\nexport const WNODE = Symbol('Identifier for a WNode.');\n\n/**\n * The symbol identifier for a HNode type\n */\nexport const HNODE = Symbol('Identifier for a HNode.');\n\n/**\n * Helper function that returns true if the `DNode` is a `WNode` using the `type` property\n */\nexport function isWNode<W extends WidgetBaseInterface = DefaultWidgetBaseInterface>(child: DNode<W>): child is WNode<W> {\n\treturn Boolean(child && (typeof child !== 'string') && child.type === WNODE);\n}\n\n/**\n * Helper function that returns true if the `DNode` is a `HNode` using the `type` property\n */\nexport function isHNode(child: DNode): child is HNode {\n\treturn Boolean(child && (typeof child !== 'string') && child.type === HNODE);\n}\n\n/**\n * Generic decorate function for DNodes. The nodes are modified in place based on the provided predicate\n * and modifier functions.\n *\n * The children of each node are flattened and added to the array for decoration.\n *\n * If no predicate is supplied then the modifier will be executed on all nodes.\n */\nexport function decorate(dNodes: DNode, modifier: (dNode: DNode) => void, predicate?: (dNode: DNode) => boolean): DNode;\nexport function decorate(dNodes: DNode[], modifier: (dNode: DNode) => void, predicate?: (dNode: DNode) => boolean): DNode[];\nexport function decorate(dNodes: DNode | DNode[], modifier: (dNode: DNode) => void, predicate?: (dNode: DNode) => boolean): DNode | DNode[];\nexport function decorate(dNodes: DNode | DNode[], modifier: (dNode: DNode) => void, predicate?: (dNode: DNode) => boolean): DNode | DNode[] {\n\tlet nodes = Array.isArray(dNodes) ? [ ...dNodes ] : [ dNodes ];\n\twhile (nodes.length) {\n\t\tconst node = nodes.pop();\n\t\tif (node) {\n\t\t\tif (!predicate || predicate(node)) {\n\t\t\t\tmodifier(node);\n\t\t\t}\n\t\t\tif ((isWNode(node) || isHNode(node)) && node.children) {\n\t\t\t\tnodes = [ ...nodes, ...node.children ];\n\t\t\t}\n\t\t}\n\t}\n\treturn dNodes;\n}\n\n/**\n * Wrapper function for calls to create a widget.\n */\nexport function w<W extends WidgetBaseInterface>(widgetConstructor: Constructor<W> | RegistryLabel, properties: W['properties'], children: W['children'] = []): WNode<W> {\n\n\treturn {\n\t\tchildren,\n\t\twidgetConstructor,\n\t\tproperties,\n\t\ttype: WNODE\n\t};\n}\n\n/**\n * Wrapper function for calls to create HNodes.\n */\nexport function v(tag: string, properties: VirtualDomProperties | DeferredVirtualProperties, children?: DNode[]): HNode;\nexport function v(tag: string, children: undefined | DNode[]): HNode;\nexport function v(tag: string): HNode;\nexport function v(tag: string, propertiesOrChildren: VirtualDomProperties | DeferredVirtualProperties | DNode[] = {}, children: undefined | DNode[] = undefined): HNode {\n\t\tlet properties: VirtualDomProperties | DeferredVirtualProperties = propertiesOrChildren;\n\t\tlet deferredPropertiesCallback;\n\n\t\tif (Array.isArray(propertiesOrChildren)) {\n\t\t\tchildren = propertiesOrChildren;\n\t\t\tproperties = {};\n\t\t}\n\n\t\tif (typeof properties === 'function') {\n\t\t\tdeferredPropertiesCallback = properties;\n\t\t\tproperties = {};\n\t\t}\n\n\t\treturn {\n\t\t\ttag,\n\t\t\tdeferredPropertiesCallback,\n\t\t\tchildren,\n\t\t\tproperties,\n\t\t\ttype: HNODE\n\t\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// d.ts","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = 1\n// module chunks = 0","import { v } from './d';\nimport { auto } from './diff';\nimport {\n\tAfterRender,\n\tBeforeProperties,\n\tBeforeRender,\n\tCoreProperties,\n\tDiffPropertyReaction,\n\tDNode,\n\tRender,\n\tWidgetMetaBase,\n\tWidgetMetaConstructor,\n\tWidgetBaseInterface,\n\tWidgetProperties\n} from './interfaces';\nimport RegistryHandler from './RegistryHandler';\nimport NodeHandler from './NodeHandler';\nimport { widgetInstanceMap } from './vdom';\nimport { isWidgetBaseConstructor, WIDGET_BASE_TYPE } from './Registry';\n\nenum WidgetRenderState {\n\tIDLE = 1,\n\tPROPERTIES,\n\tCHILDREN,\n\tRENDER\n}\n\ninterface ReactionFunctionArguments {\n\tpreviousProperties: any;\n\tnewProperties: any;\n\tchanged: boolean;\n}\n\ninterface ReactionFunctionConfig {\n\tpropertyName: string;\n\treaction: DiffPropertyReaction;\n}\n\nexport interface WidgetAndElementEvent {\n\tkey: string;\n\telement: HTMLElement;\n\ttarget: WidgetBase;\n}\n\nexport type BoundFunctionData = { boundFunc: (...args: any[]) => any, scope: any };\n\nconst decoratorMap = new Map<Function, Map<string, any[]>>();\nconst boundAuto = auto.bind(null);\n\n/**\n * Main widget base for all widgets to extend\n */\nexport class WidgetBase<P = WidgetProperties, C extends DNode = DNode> implements WidgetBaseInterface<P, C> {\n\n\t/**\n\t * static identifier\n\t */\n\tstatic _type: symbol = WIDGET_BASE_TYPE;\n\n\t/**\n\t * children array\n\t */\n\tprivate _children: (C | null)[];\n\n\t/**\n\t * Indicates if it is the initial set properties cycle\n\t */\n\tprivate _initialProperties = true;\n\n\t/**\n\t * internal widget properties\n\t */\n\tprivate _properties: P & WidgetProperties & { [index: string]: any };\n\n\t/**\n\t * Array of property keys considered changed from the previous set properties\n\t */\n\tprivate _changedPropertyKeys: string[] = [];\n\n\t/**\n\t * map of decorators that are applied to this widget\n\t */\n\tprivate _decoratorCache: Map<string, any[]>;\n\n\tprivate _registry: RegistryHandler;\n\n\t/**\n\t * Map of functions properties for the bound function\n\t */\n\tprivate _bindFunctionPropertyMap: WeakMap<(...args: any[]) => any, BoundFunctionData>;\n\n\tprivate _renderState: WidgetRenderState = WidgetRenderState.IDLE;\n\n\tprivate _metaMap: Map<WidgetMetaConstructor<any>, WidgetMetaBase>;\n\n\tprivate _boundRenderFunc: Render;\n\n\tprivate _boundInvalidate: () => void;\n\n\tprivate _nodeHandler: NodeHandler = new NodeHandler();\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis._children = [];\n\t\tthis._decoratorCache = new Map<string, any[]>();\n\t\tthis._properties = <P> {};\n\t\tthis._boundRenderFunc = this.render.bind(this);\n\t\tthis._boundInvalidate = this.invalidate.bind(this);\n\n\t\twidgetInstanceMap.set(this, {\n\t\t\tdirty: true,\n\t\t\tonElementCreated: (element: HTMLElement, key: string) => {\n\t\t\t\tthis.onElementCreated(element, key);\n\t\t\t},\n\t\t\tonElementUpdated: (element: HTMLElement, key: string) => {\n\t\t\t\tthis.onElementUpdated(element, key);\n\t\t\t},\n\t\t\tonAttach: (): void => {\n\t\t\t\tthis.onAttach();\n\t\t\t},\n\t\t\tonDetach: (): void => {\n\t\t\t\tthis.onDetach();\n\t\t\t},\n\t\t\tnodeHandler: this._nodeHandler,\n\t\t\tregistry: () => {\n\t\t\t\treturn this.registry;\n\t\t\t},\n\t\t\tcoreProperties: {} as CoreProperties,\n\t\t\tinvalidate: this._boundInvalidate\n\t\t});\n\t}\n\n\tprotected meta<T extends WidgetMetaBase>(MetaType: WidgetMetaConstructor<T>): T {\n\t\tif (this._metaMap === undefined) {\n\t\t\tthis._metaMap = new Map<WidgetMetaConstructor<any>, WidgetMetaBase>();\n\t\t}\n\t\tlet cached = this._metaMap.get(MetaType);\n\t\tif (!cached) {\n\t\t\tcached = new MetaType({\n\t\t\t\tinvalidate: this._boundInvalidate,\n\t\t\t\tnodeHandler: this._nodeHandler,\n\t\t\t\tbind: this\n\t\t\t});\n\t\t\tthis._metaMap.set(MetaType, cached);\n\t\t\tcached;\n\t\t}\n\n\t\treturn cached as T;\n\t}\n\n\t/**\n\t * Widget lifecycle method that is called whenever a dom node is created for a HNode.\n\t * Override this method to access the dom nodes that were inserted into the dom.\n\t * @param element The dom node represented by the vdom node.\n\t * @param key The vdom node's key.\n\t */\n\tprotected onElementCreated(element: Element, key: string): void {\n\t\t// Do nothing by default.\n\t}\n\n\t/**\n\t * Widget lifecycle method that is called whenever a dom node that is associated with a HNode is updated.\n\t * Override this method to access the dom node.\n\t * @param element The dom node represented by the vdom node.\n\t * @param key The vdom node's key.\n\t */\n\tprotected onElementUpdated(element: Element, key: string): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onAttach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onDetach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tpublic get properties(): Readonly<P> & Readonly<WidgetProperties> {\n\t\treturn this._properties;\n\t}\n\n\tpublic get changedPropertyKeys(): string[] {\n\t\treturn [ ...this._changedPropertyKeys ];\n\t}\n\n\tpublic __setCoreProperties__(coreProperties: CoreProperties): void {\n\t\tthis._renderState = WidgetRenderState.PROPERTIES;\n\t\tconst { baseRegistry } = coreProperties;\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\n\t\tif (instanceData.coreProperties.baseRegistry !== baseRegistry) {\n\t\t\tif (this._registry === undefined) {\n\t\t\t\tthis._registry = new RegistryHandler();\n\t\t\t\tthis._registry.on('invalidate', this._boundInvalidate);\n\t\t\t}\n\t\t\tthis._registry.base = baseRegistry;\n\t\t\tthis.invalidate();\n\t\t}\n\t\tinstanceData.coreProperties = coreProperties;\n\t}\n\n\tpublic __setProperties__(originalProperties: this['properties']): void {\n\t\tconst properties = this._runBeforeProperties(originalProperties);\n\t\tconst registeredDiffPropertyNames = this.getDecorator('registeredDiffProperty');\n\t\tconst changedPropertyKeys: string[] = [];\n\t\tconst propertyNames = Object.keys(properties);\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\tthis._renderState = WidgetRenderState.PROPERTIES;\n\n\t\tif (this._initialProperties === false || registeredDiffPropertyNames.length !== 0) {\n\t\t\tconst allProperties = [ ...propertyNames, ...Object.keys(this._properties) ];\n\t\t\tconst checkedProperties: string[] = [];\n\t\t\tconst diffPropertyResults: any = {};\n\t\t\tlet runReactions = false;\n\n\t\t\tfor (let i = 0; i < allProperties.length; i++) {\n\t\t\t\tconst propertyName = allProperties[i];\n\t\t\t\tif (checkedProperties.indexOf(propertyName) > 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcheckedProperties.push(propertyName);\n\t\t\t\tconst previousProperty = this._properties[propertyName];\n\t\t\t\tconst newProperty = this._bindFunctionProperty(properties[propertyName], instanceData.coreProperties.bind);\n\t\t\t\tif (registeredDiffPropertyNames.indexOf(propertyName) !== -1) {\n\t\t\t\t\trunReactions = true;\n\t\t\t\t\tconst diffFunctions = this.getDecorator(`diffProperty:${propertyName}`);\n\t\t\t\t\tfor (let i = 0; i < diffFunctions.length; i++) {\n\t\t\t\t\t\tconst result = diffFunctions[i](previousProperty, newProperty);\n\t\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst result = boundAuto(previousProperty, newProperty);\n\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t}\n\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (runReactions) {\n\t\t\t\tthis._mapDiffPropertyReactions(properties, changedPropertyKeys).forEach((args, reaction) => {\n\t\t\t\t\tif (args.changed) {\n\t\t\t\t\t\treaction.call(this, args.previousProperties, args.newProperties);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._properties = diffPropertyResults;\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t}\n\t\telse {\n\t\t\tthis._initialProperties = false;\n\t\t\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\t\t\tconst propertyName = propertyNames[i];\n\t\t\t\tif (typeof properties[propertyName] === 'function') {\n\t\t\t\t\tproperties[propertyName] = this._bindFunctionProperty(properties[propertyName], instanceData.coreProperties.bind);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t\tthis._properties = { ...properties };\n\t\t}\n\n\t\tif (this._changedPropertyKeys.length > 0) {\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic get children(): (C | null)[] {\n\t\treturn this._children;\n\t}\n\n\tpublic __setChildren__(children: (C | null)[]): void {\n\t\tthis._renderState = WidgetRenderState.CHILDREN;\n\t\tif (this._children.length > 0 || children.length > 0) {\n\t\t\tthis._children = children;\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic __render__(): DNode | DNode[] {\n\t\tthis._renderState = WidgetRenderState.RENDER;\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\tinstanceData.dirty = false;\n\t\tconst render = this._runBeforeRenders();\n\t\tlet dNode = render();\n\t\tdNode = this.runAfterRenders(dNode);\n\t\tthis._nodeHandler.clear();\n\t\tthis._renderState = WidgetRenderState.IDLE;\n\t\treturn dNode;\n\t}\n\n\tpublic invalidate(): void {\n\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\tif (this._renderState === WidgetRenderState.IDLE) {\n\t\t\tinstanceData.dirty = true;\n\t\t\tif (instanceData.parentInvalidate) {\n\t\t\t\tinstanceData.parentInvalidate();\n\t\t\t}\n\t\t}\n\t\telse if (this._renderState === WidgetRenderState.PROPERTIES) {\n\t\t\tinstanceData.dirty = true;\n\t\t}\n\t\telse if (this._renderState === WidgetRenderState.CHILDREN) {\n\t\t\tinstanceData.dirty = true;\n\t\t}\n\t}\n\n\tprotected render(): DNode | DNode[] {\n\t\treturn v('div', {}, this.children);\n\t}\n\n\t/**\n\t * Function to add decorators to WidgetBase\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @param value The value of the decorator\n\t */\n\tprotected addDecorator(decoratorKey: string, value: any): void {\n\t\tvalue = Array.isArray(value) ? value : [ value ];\n\t\tif (this.hasOwnProperty('constructor')) {\n\t\t\tlet decoratorList = decoratorMap.get(this.constructor);\n\t\t\tif (!decoratorList) {\n\t\t\t\tdecoratorList = new Map<string, any[]>();\n\t\t\t\tdecoratorMap.set(this.constructor, decoratorList);\n\t\t\t}\n\n\t\t\tlet specificDecoratorList = decoratorList.get(decoratorKey);\n\t\t\tif (!specificDecoratorList) {\n\t\t\t\tspecificDecoratorList = [];\n\t\t\t\tdecoratorList.set(decoratorKey, specificDecoratorList);\n\t\t\t}\n\t\t\tspecificDecoratorList.push(...value);\n\t\t}\n\t\telse {\n\t\t\tconst decorators = this.getDecorator(decoratorKey);\n\t\t\tthis._decoratorCache.set(decoratorKey, [ ...decorators, ...value ]);\n\t\t}\n\t}\n\n\t/**\n\t * Function to build the list of decorators from the global decorator map.\n\t *\n\t * @param decoratorKey  The key of the decorator\n\t * @return An array of decorator values\n\t * @private\n\t */\n\tprivate _buildDecoratorList(decoratorKey: string): any[] {\n\t\tconst allDecorators = [];\n\n\t\tlet constructor = this.constructor;\n\n\t\twhile (constructor) {\n\t\t\tconst instanceMap = decoratorMap.get(constructor);\n\t\t\tif (instanceMap) {\n\t\t\t\tconst decorators = instanceMap.get(decoratorKey);\n\n\t\t\t\tif (decorators) {\n\t\t\t\t\tallDecorators.unshift(...decorators);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconstructor = Object.getPrototypeOf(constructor);\n\t\t}\n\n\t\treturn allDecorators;\n\t}\n\n\t/**\n\t * Function to retrieve decorator values\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @returns An array of decorator values\n\t */\n\tprotected getDecorator(decoratorKey: string): any[] {\n\t\tlet allDecorators = this._decoratorCache.get(decoratorKey);\n\n\t\tif (allDecorators !== undefined) {\n\t\t\treturn allDecorators;\n\t\t}\n\n\t\tallDecorators = this._buildDecoratorList(decoratorKey);\n\n\t\tthis._decoratorCache.set(decoratorKey, allDecorators);\n\t\treturn allDecorators;\n\t}\n\n\tprivate _mapDiffPropertyReactions(newProperties: any, changedPropertyKeys: string[]): Map<Function, ReactionFunctionArguments> {\n\t\tconst reactionFunctions: ReactionFunctionConfig[] = this.getDecorator('diffReaction');\n\n\t\treturn reactionFunctions.reduce((reactionPropertyMap, { reaction, propertyName }) => {\n\t\t\tlet reactionArguments = reactionPropertyMap.get(reaction);\n\t\t\tif (reactionArguments === undefined) {\n\t\t\t\treactionArguments = {\n\t\t\t\t\tpreviousProperties: {},\n\t\t\t\t\tnewProperties: {},\n\t\t\t\t\tchanged: false\n\t\t\t\t};\n\t\t\t}\n\t\t\treactionArguments.previousProperties[propertyName] = this._properties[propertyName];\n\t\t\treactionArguments.newProperties[propertyName] = newProperties[propertyName];\n\t\t\tif (changedPropertyKeys.indexOf(propertyName) !== -1) {\n\t\t\t\treactionArguments.changed = true;\n\t\t\t}\n\t\t\treactionPropertyMap.set(reaction, reactionArguments);\n\t\t\treturn reactionPropertyMap;\n\t\t}, new Map<Function, ReactionFunctionArguments>());\n\n\t}\n\n\t/**\n\t * Binds unbound property functions to the specified `bind` property\n\t *\n\t * @param properties properties to check for functions\n\t */\n\tprivate _bindFunctionProperty(property: any, bind: any): any {\n\t\tif (typeof property === 'function' && isWidgetBaseConstructor(property) === false) {\n\t\t\tif (this._bindFunctionPropertyMap === undefined) {\n\t\t\t\tthis._bindFunctionPropertyMap = new WeakMap<(...args: any[]) => any, { boundFunc: (...args: any[]) => any, scope: any }>();\n\t\t\t}\n\t\t\tconst bindInfo: Partial<BoundFunctionData> = this._bindFunctionPropertyMap.get(property) || {};\n\t\t\tlet { boundFunc, scope } = bindInfo;\n\n\t\t\tif (boundFunc === undefined || scope !== bind) {\n\t\t\t\tboundFunc = property.bind(bind) as (...args: any[]) => any;\n\t\t\t\tthis._bindFunctionPropertyMap.set(property, { boundFunc, scope: bind });\n\t\t\t}\n\t\t\treturn boundFunc;\n\t\t}\n\t\treturn property;\n\t}\n\n\tpublic get registry(): RegistryHandler {\n\t\tif (this._registry === undefined) {\n\t\t\tthis._registry = new RegistryHandler();\n\t\t\tthis._registry.on('invalidate', this._boundInvalidate);\n\t\t}\n\t\treturn this._registry;\n\t}\n\n\tprivate _runBeforeProperties(properties: any) {\n\t\tconst beforeProperties: BeforeProperties[] = this.getDecorator('beforeProperties');\n\t\tif (beforeProperties.length > 0) {\n\t\t\treturn beforeProperties.reduce((properties, beforePropertiesFunction) => {\n\t\t\t\treturn { ...properties, ...beforePropertiesFunction.call(this, properties) };\n\t\t\t}, { ...properties });\n\t\t}\n\t\treturn properties;\n\t}\n\n\t/**\n\t * Run all registered before renders and return the updated render method\n\t */\n\tprivate _runBeforeRenders(): Render {\n\t\tconst beforeRenders = this.getDecorator('beforeRender');\n\n\t\tif (beforeRenders.length > 0) {\n\t\t\treturn beforeRenders.reduce((render: Render, beforeRenderFunction: BeforeRender) => {\n\t\t\t\tconst updatedRender = beforeRenderFunction.call(this, render, this._properties, this._children);\n\t\t\t\tif (!updatedRender) {\n\t\t\t\t\tconsole.warn('Render function not returned from beforeRender, using previous render');\n\t\t\t\t\treturn render;\n\t\t\t\t}\n\t\t\t\treturn updatedRender;\n\t\t\t}, this._boundRenderFunc);\n\t\t}\n\t\treturn this._boundRenderFunc;\n\t}\n\n\t/**\n\t * Run all registered after renders and return the decorated DNodes\n\t *\n\t * @param dNode The DNodes to run through the after renders\n\t */\n\tprotected runAfterRenders(dNode: DNode | DNode[]): DNode | DNode[] {\n\t\tconst afterRenders = this.getDecorator('afterRender');\n\n\t\tif (afterRenders.length > 0) {\n\t\t\treturn afterRenders.reduce((dNode: DNode | DNode[], afterRenderFunction: AfterRender) => {\n\t\t\t\treturn afterRenderFunction.call(this, dNode);\n\t\t\t}, dNode);\n\t\t}\n\n\t\tif (this._metaMap !== undefined) {\n\t\t\tthis._metaMap.forEach((meta) => {\n\t\t\t\tmeta.afterRender();\n\t\t\t});\n\t\t}\n\n\t\treturn dNode;\n\t}\n}\n\nexport default WidgetBase;\n\n\n\n// WEBPACK FOOTER //\n// WidgetBase.ts","import { Evented } from './Evented';\nimport { Constructor, RegistryLabel, WidgetBaseConstructor, WidgetBaseInterface } from './interfaces';\nimport { Injector } from './Injector';\n\nexport type WidgetBaseConstructorFunction = () => Promise<WidgetBaseConstructor>;\n\nexport type RegistryItem = WidgetBaseConstructor | Promise<WidgetBaseConstructor> | WidgetBaseConstructorFunction;\n\n/**\n * Widget base symbol type\n */\nexport const WIDGET_BASE_TYPE = Symbol('Widget Base');\n\nexport interface RegistryEventObject {\n\taction: string;\n\titem: WidgetBaseConstructor | Injector;\n}\n\nexport interface RegistryListener {\n\t(event: RegistryEventObject): void;\n}\n\nexport interface RegistryEvents {\n\t(type: RegistryLabel, listener: RegistryListener | RegistryListener[]): void;\n}\n\n/**\n * Widget Registry Interface\n */\nexport interface RegistryInterface {\n\n\t/**\n\t * Define a WidgetRegistryItem against a label\n\t *\n\t * @param label The label of the widget to register\n\t * @param registryItem The registry item to define\n\t */\n\tdefine(label: RegistryLabel, registryItem: RegistryItem): void;\n\n\t/**\n\t * Return a RegistryItem for the given label, null if an entry doesn't exist\n\t *\n\t * @param widgetLabel The label of the widget to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tget<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;\n\n\t/**\n\t * Returns a boolean if an entry for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a widget registry item exists\n\t */\n\thas(label: RegistryLabel): boolean;\n\n\t/**\n\t * Define an Injector against a label\n\t *\n\t * @param label The label of the injector to register\n\t * @param registryItem The injector to define\n\t */\n\tdefineInjector(label: RegistryLabel, registryItem: Injector): void;\n\n\t/**\n\t * Return an Injector registry item for the given label, null if an entry doesn't exist\n\t *\n\t * @param label The label of the injector to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tgetInjector<T extends Injector>(label: RegistryLabel): T | null;\n\n\t/**\n\t * Returns a boolean if an injector for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a injector registry item exists\n\t */\n\thasInjector(label: RegistryLabel): boolean;\n}\n\n/**\n * Checks is the item is a subclass of WidgetBase (or a WidgetBase)\n *\n * @param item the item to check\n * @returns true/false indicating if the item is a WidgetBaseConstructor\n */\nexport function isWidgetBaseConstructor<T extends WidgetBaseInterface>(item: any): item is Constructor<T> {\n\treturn Boolean(item && item._type === WIDGET_BASE_TYPE);\n}\n\n/**\n * The Registry implementation\n */\nexport class Registry extends Evented implements RegistryInterface {\n\n\t/**\n\t * internal map of labels and RegistryItem\n\t */\n\tprivate _widgetRegistry: Map<RegistryLabel, RegistryItem>;\n\n\tprivate _injectorRegistry: Map<RegistryLabel, Injector>;\n\n\t/**\n\t * Emit loaded event for registry label\n\t */\n\tprivate emitLoadedEvent(widgetLabel: RegistryLabel, item: WidgetBaseConstructorFunction | WidgetBaseConstructor | Injector): void {\n\t\tthis.emit({\n\t\t\ttype: widgetLabel,\n\t\t\taction: 'loaded',\n\t\t\titem\n\t\t});\n\t}\n\n\tpublic define(label: RegistryLabel, item: RegistryItem): void {\n\t\tif (this._widgetRegistry === undefined) {\n\t\t\tthis._widgetRegistry = new Map();\n\t\t}\n\n\t\tif (this._widgetRegistry.has(label)) {\n\t\t\tthrow new Error(`widget has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._widgetRegistry.set(label, item);\n\n\t\tif (item instanceof Promise) {\n\t\t\titem.then((widgetCtor) => {\n\t\t\t\tthis._widgetRegistry.set(label, widgetCtor);\n\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\treturn widgetCtor;\n\t\t\t}, (error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.emitLoadedEvent(label, item);\n\t\t}\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, item: Injector): void {\n\t\tif (this._injectorRegistry === undefined) {\n\t\t\tthis._injectorRegistry = new Map();\n\t\t}\n\n\t\tif (this._injectorRegistry.has(label)) {\n\t\t\tthrow new Error(`injector has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._injectorRegistry.set(label, item);\n\t\tthis.emitLoadedEvent(label, item);\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null {\n\t\tif (!this.has(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst item = this._widgetRegistry.get(label);\n\n\t\tif (isWidgetBaseConstructor<T>(item)) {\n\t\t\treturn item;\n\t\t}\n\n\t\tif (item instanceof Promise) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst promise = (<WidgetBaseConstructorFunction> item)();\n\t\tthis._widgetRegistry.set(label, promise);\n\n\t\tpromise.then((widgetCtor) => {\n\t\t\tthis._widgetRegistry.set(label, widgetCtor);\n\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\treturn widgetCtor;\n\t\t}, (error) => {\n\t\t\tthrow error;\n\t\t});\n\n\t\treturn null;\n\t}\n\n\tpublic getInjector<T extends Injector>(label: RegistryLabel): T | null {\n\t\tif (!this.hasInjector(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._injectorRegistry.get(label) as T;\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._widgetRegistry && this._widgetRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._injectorRegistry && this._injectorRegistry.has(label));\n\t}\n}\n\nexport default Registry;\n\n\n\n// WEBPACK FOOTER //\n// Registry.ts","\nexport class Evented {\n\n\tprivate _onMap = new Map<string, Function[]>();\n\n\tpublic on(type: string, on: Function) {\n\t\tconst onFunctions = this._onMap.get(type);\n\t\tif (onFunctions) {\n\t\t\tonFunctions.push(on);\n\t\t}\n\t\telse {\n\t\t\tthis._onMap.set(type, [ on ]);\n\t\t}\n\t}\n\n\tpublic emit(obj: any) {\n\t\tconst onFunctions = this._onMap.get(obj.type);\n\t\tif (onFunctions) {\n\t\t\tfor (let i = 0; i < onFunctions.length; i++) {\n\t\t\t\tonFunctions[i](obj);\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport default Evented;\n\n\n\n// WEBPACK FOOTER //\n// Evented.ts","import { WidgetBase } from './WidgetBase';\nimport { inject, GetProperties } from './decorators/inject';\nimport { Constructor, DNode, RegistryLabel } from './interfaces';\nimport { w } from './d';\n\nexport type Container<T extends WidgetBase> = Constructor<WidgetBase<Partial<T['properties']>>>;\n\nexport function Container<W extends WidgetBase> (\n\tcomponent: Constructor<W> | RegistryLabel,\n\tname: RegistryLabel,\n\t{ getProperties }: { getProperties: GetProperties }\n): Container<W> {\n\t@inject({ name, getProperties })\n\tclass WidgetContainer extends WidgetBase<Partial<W['properties']>> {\n\t\tpublic __setProperties__(properties: Partial<W['properties']>): void {\n\t\t\tsuper.__setProperties__(properties as any);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tprotected render(): DNode {\n\t\t\treturn w(component, this.properties, this.children);\n\t\t}\n\t}\n\treturn WidgetContainer;\n}\n\nexport default Container;\n\n\n\n// WEBPACK FOOTER //\n// Container.ts","/**\n * Generic decorator handler to take care of whether or not the decorator was called at the class level\n * or the method level.\n *\n * @param handler\n */\nexport function handleDecorator(handler: (target: any, propertyKey?: string) => void) {\n\treturn function (target: any, propertyKey?: string, descriptor?: PropertyDescriptor) {\n\t\tif (typeof target === 'function') {\n\t\t\thandler(target.prototype, undefined);\n\t\t}\n\t\telse {\n\t\t\thandler(target, propertyKey);\n\t\t}\n\t};\n}\n\nexport default handleDecorator;\n\n\n\n// WEBPACK FOOTER //\n// handleDecorator.ts","import { Require, Config } from './loader';\n\n/**\n * The valid return types from a feature test\n */\nexport type FeatureTestResult = boolean | string | number | undefined;\n\n/**\n * A function that tests for a feature and returns a result\n */\nexport type FeatureTest = () => FeatureTestResult;\n\nexport type FeatureTestThenable = {\n\tthen<U>(onFulfilled?: (value: FeatureTestResult) => U | FeatureTestThenable, onRejected?: (error: any) => U | FeatureTestThenable): FeatureTestThenable;\n\tthen<U>(onFulfilled?: (value: FeatureTestResult) => U | FeatureTestThenable, onRejected?: (error: any) => void): FeatureTestThenable;\n};\n\nfunction isFeatureTestThenable(value: any): value is FeatureTestThenable {\n\treturn value && value.then;\n}\n\n/**\n * A cache of results of feature tests\n */\nexport const testCache: { [feature: string]: FeatureTestResult } = {};\n\n/**\n * A cache of the un-resolved feature tests\n */\nexport const testFunctions: { [feature: string]: FeatureTest } = {};\n\n/**\n * A cache of unresolved thenables (probably promises)\n * @type {{}}\n */\nconst testThenables: { [feature: string]: FeatureTestThenable} = {};\n\nexport interface StaticHasFeatures {\n\t[ feature: string ]: FeatureTestResult;\n}\n\nexport interface DojoHasEnvironment {\n\t/**\n\t * Static features defined in the enviornment that should be used by the `has` module\n\t * instead of run-time detection.\n\t */\n\tstaticFeatures?: StaticHasFeatures | (() => StaticHasFeatures);\n}\n\ndeclare global {\n\tinterface Window {\n\t\t/**\n\t\t * The `dojo/has` enviornment which provides configuration when the module is\n\t\t * loaded.\n\t\t */\n\t\tDojoHasEnvironment?: DojoHasEnvironment;\n\t}\n}\n\n/**\n * A reference to the global scope (`window` in a browser, `global` in NodeJS)\n */\nconst globalScope = (function (): any {\n\t/* istanbul ignore else */\n\tif (typeof window !== 'undefined') {\n\t\t// Browsers\n\t\treturn window;\n\t}\n\telse if (typeof global !== 'undefined') {\n\t\t// Node\n\t\treturn global;\n\t}\n\telse if (typeof self !== 'undefined') {\n\t\t// Web workers\n\t\treturn self;\n\t}\n\t/* istanbul ignore next */\n\treturn {};\n})();\n\n/* Grab the staticFeatures if there are available */\nconst { staticFeatures }: DojoHasEnvironment = globalScope.DojoHasEnvironment || {};\n\n/* Cleaning up the DojoHasEnviornment */\nif ('DojoHasEnvironment' in globalScope) {\n\tdelete globalScope.DojoHasEnvironment;\n}\n\n/**\n * Custom type guard to narrow the `staticFeatures` to either a map or a function that\n * returns a map.\n *\n * @param value The value to guard for\n */\nfunction isStaticFeatureFunction(value: any): value is (() => StaticHasFeatures) {\n\treturn typeof value === 'function';\n}\n\n/**\n * The cache of asserted features that were available in the global scope when the\n * module loaded\n */\nconst staticCache: StaticHasFeatures = staticFeatures\n\t? isStaticFeatureFunction(staticFeatures)\n\t\t? staticFeatures.apply(globalScope)\n\t\t: staticFeatures\n\t: {}; /* Providing an empty cache, if none was in the environment\n\n/**\n * AMD plugin function.\n *\n * Conditional loads modules based on a has feature test value.\n *\n * @param resourceId Gives the resolved module id to load.\n * @param require The loader require function with respect to the module that contained the plugin resource in its\n *                dependency list.\n * @param load Callback to loader that consumes result of plugin demand.\n */\nexport function load(resourceId: string, require: Require, load: (value?: any) => void, config?: Config): void {\n\tresourceId ? require([ resourceId ], load) : load();\n}\n\n/**\n * AMD plugin function.\n *\n * Resolves resourceId into a module id based on possibly-nested tenary expression that branches on has feature test\n * value(s).\n *\n * @param resourceId The id of the module\n * @param normalize Resolves a relative module id into an absolute module id\n */\nexport function normalize(resourceId: string, normalize: (moduleId: string) => string): string | null {\n\tconst tokens: RegExpMatchArray = resourceId.match(/[\\?:]|[^:\\?]*/g) || [];\n\tlet i = 0;\n\n\tfunction get(skip?: boolean): string | null {\n\t\tconst term = tokens[i++];\n\t\tif (term === ':') {\n\t\t\t// empty string module name, resolves to null\n\t\t\treturn null;\n\t\t}\n\t\telse {\n\t\t\t// postfixed with a ? means it is a feature to branch on, the term is the name of the feature\n\t\t\tif (tokens[i++] === '?') {\n\t\t\t\tif (!skip && has(term)) {\n\t\t\t\t\t// matched the feature, get the first value from the options\n\t\t\t\t\treturn get();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// did not match, get the second value, passing over the first\n\t\t\t\t\tget(true);\n\t\t\t\t\treturn get(skip);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// a module\n\t\t\treturn term;\n\t\t}\n\t}\n\n\tconst id = get();\n\n\treturn id && normalize(id);\n}\n\n/**\n * Check if a feature has already been registered\n *\n * @param feature the name of the feature\n */\nexport function exists(feature: string): boolean {\n\tconst normalizedFeature = feature.toLowerCase();\n\n\treturn Boolean(normalizedFeature in staticCache || normalizedFeature in testCache || testFunctions[normalizedFeature]);\n}\n\n/**\n * Register a new test for a named feature.\n *\n * @example\n * has.add('dom-addeventlistener', !!document.addEventListener);\n *\n * @example\n * has.add('touch-events', function () {\n *    return 'ontouchstart' in document\n * });\n *\n * @param feature the name of the feature\n * @param value the value reported of the feature, or a function that will be executed once on first test\n * @param overwrite if an existing value should be overwritten. Defaults to false.\n */\nexport function add(feature: string, value: FeatureTest | FeatureTestResult | FeatureTestThenable, overwrite: boolean = false): void {\n\tconst normalizedFeature = feature.toLowerCase();\n\n\tif (exists(normalizedFeature) && !overwrite && !(normalizedFeature in staticCache)) {\n\t\tthrow new TypeError(`Feature \"${feature}\" exists and overwrite not true.`);\n\t}\n\n\tif (typeof value === 'function') {\n\t\ttestFunctions[normalizedFeature] = value;\n\t}\n\telse if (isFeatureTestThenable(value)) {\n\t\ttestThenables[ feature ] = value.then((resolvedValue: FeatureTestResult) => {\n\t\t\ttestCache [ feature ] = resolvedValue;\n\t\t\tdelete testThenables [ feature ];\n\t\t}, () => {\n\t\t\tdelete testThenables [ feature ];\n\t\t});\n\t}\n\telse {\n\t\ttestCache[normalizedFeature] = value;\n\t\tdelete testFunctions[normalizedFeature];\n\t}\n}\n\n/**\n * Return the current value of a named feature.\n *\n * @param feature The name (if a string) or identifier (if an integer) of the feature to test.\n */\nexport default function has(feature: string): FeatureTestResult {\n\tlet result: FeatureTestResult;\n\n\tconst normalizedFeature = feature.toLowerCase();\n\n\tif (normalizedFeature in staticCache) {\n\t\tresult = staticCache[normalizedFeature];\n\t}\n\telse if (testFunctions[normalizedFeature]) {\n\t\tresult = testCache[normalizedFeature] = testFunctions[normalizedFeature].call(null);\n\t\tdelete testFunctions[normalizedFeature];\n\t}\n\telse if (normalizedFeature in testCache) {\n\t\tresult = testCache[normalizedFeature];\n\t}\n\telse if (feature in testThenables) {\n\t\treturn false;\n\t}\n\telse {\n\t\tthrow new TypeError(`Attempt to detect unregistered has feature \"${feature}\"`);\n\t}\n\n\treturn result;\n}\n\n/*\n * Out of the box feature tests\n */\n\n/* Environments */\n\n/* Used as a value to provide a debug only code path */\nadd('debug', true);\n\n/* Detects if the environment is \"browser like\" */\nadd('host-browser', typeof document !== 'undefined' && typeof location !== 'undefined');\n\n/* Detects if the environment appears to be NodeJS */\nadd('host-node', function () {\n\tif (typeof process === 'object' && process.versions && process.versions.node) {\n\t\treturn process.versions.node;\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// has.ts","import {\n\tCoreProperties,\n\tDefaultWidgetBaseInterface,\n\tDNode,\n\tHNode,\n\tWNode,\n\tProjectionOptions,\n\tProjection,\n\tSupportedClassName,\n\tTransitionStrategy,\n\tVirtualDomProperties\n} from './interfaces';\nimport { isWNode, isHNode, HNODE } from './d';\nimport { isWidgetBaseConstructor } from './Registry';\nimport NodeHandler from './NodeHandler';\nimport RegistryHandler from './RegistryHandler';\n\nconst NAMESPACE_W3 = 'http://www.w3.org/';\nconst NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\nconst NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\n\nconst emptyArray: (InternalWNode | InternalHNode)[] = [];\n\nexport type RenderResult = DNode<any> | DNode<any>[];\n\nexport interface InternalWNode extends WNode<DefaultWidgetBaseInterface> {\n\n\t/**\n\t * The instance of the widget\n\t */\n\tinstance: DefaultWidgetBaseInterface;\n\n\t/**\n\t * The rendered DNodes from the instance\n\t */\n\trendered: InternalDNode[];\n\n\t/**\n\t * Core properties that are used by the widget core system\n\t */\n\tcoreProperties: CoreProperties;\n\n\t/**\n\t * Children for the WNode\n\t */\n\tchildren: InternalDNode[];\n}\n\nexport interface InternalHNode extends HNode {\n\n\t/**\n\t * Children for the HNode\n\t */\n\tchildren?: InternalDNode[];\n\n\tinserted?: boolean;\n\n\t/**\n\t * Bag used to still decorate properties on a deferred properties callback\n\t */\n\tdecoratedDeferredProperties?: VirtualDomProperties;\n\n\t/**\n\t * DOM element\n\t */\n\tdomNode?: Element | Text;\n}\n\nexport type InternalDNode = InternalHNode | InternalWNode;\n\nexport interface WidgetData {\n\tonElementCreated: Function;\n\tonElementUpdated: Function;\n\tonDetach: () => void;\n\tonAttach: () => void;\n\tparentInvalidate?: Function;\n\tdirty: boolean;\n\tregistry: () => RegistryHandler;\n\tnodeHandler: NodeHandler;\n\tcoreProperties: CoreProperties;\n\tinvalidate: Function;\n}\n\nexport const widgetInstanceMap = new WeakMap<any, WidgetData>();\n\nfunction same(dnode1: InternalDNode, dnode2: InternalDNode) {\n\tif (isHNode(dnode1) && isHNode(dnode2)) {\n\t\tif (dnode1.tag !== dnode2.tag) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.properties.key !== dnode2.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\telse if (isWNode(dnode1) && isWNode(dnode2)) {\n\t\tif (dnode1.widgetConstructor !== dnode2.widgetConstructor) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.properties.key !== dnode2.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nconst missingTransition = function() {\n\tthrow new Error('Provide a transitions object to the projectionOptions to do animations');\n};\n\nfunction getProjectionOptions(projectorOptions?: Partial<ProjectionOptions>): ProjectionOptions {\n\tconst defaults = {\n\t\tnamespace: undefined,\n\t\tstyleApplyer: function(domNode: HTMLElement, styleName: string, value: string) {\n\t\t\t(domNode.style as any)[styleName] = value;\n\t\t},\n\t\ttransitions: {\n\t\t\tenter: missingTransition,\n\t\t\texit: missingTransition\n\t\t},\n\t\tdeferredRenderCallbacks: [],\n\t\tafterRenderCallbacks: [],\n\t\tnodeMap: new WeakMap(),\n\t\tmerge: false\n\t};\n\treturn { ...defaults, ...projectorOptions } as ProjectionOptions;\n}\n\nfunction checkStyleValue(styleValue: Object) {\n\tif (typeof styleValue !== 'string') {\n\t\tthrow new Error('Style values must be strings');\n\t}\n}\n\nfunction updateEvents(\n\tdomNode: Node,\n\tpropName: string,\n\tproperties: VirtualDomProperties,\n\tprojectionOptions: ProjectionOptions,\n\tpreviousProperties?: VirtualDomProperties\n) {\n\tconst previous = previousProperties || Object.create(null);\n\tconst currentValue = properties[propName];\n\tconst previousValue = previous[propName];\n\n\tconst eventName = propName.substr(2);\n\tconst eventMap = projectionOptions.nodeMap.get(domNode) || new WeakMap();\n\n\tif (previousValue) {\n\t\tconst previousEvent = eventMap.get(previousValue);\n\t\tdomNode.removeEventListener(eventName, previousEvent);\n\t}\n\n\tlet callback = currentValue.bind(properties.bind);\n\n\tif (eventName === 'input') {\n\t\tcallback = function(this: any, evt: Event) {\n\t\t\tcurrentValue.call(this, evt);\n\t\t\t(evt.target as any)['oninput-value'] = (evt.target as HTMLInputElement).value;\n\t\t}.bind(properties.bind);\n\t}\n\n\tdomNode.addEventListener(eventName, callback);\n\teventMap.set(currentValue, callback);\n\tprojectionOptions.nodeMap.set(domNode, eventMap);\n}\n\nfunction addClasses(domNode: Node, classes: SupportedClassName) {\n\tif (classes) {\n\t\tconst classNames = classes.split(' ');\n\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\t(domNode as Element).classList.add(classNames[i]);\n\t\t}\n\t}\n}\n\nfunction removeClasses(domNode: Node, classes: SupportedClassName) {\n\tif (classes) {\n\t\tconst classNames = classes.split(' ');\n\t\tfor (let i = 0; i < classNames.length; i++) {\n\t\t\t(domNode as Element).classList.remove(classNames[i]);\n\t\t}\n\t}\n}\n\nfunction removeOrphanedEvents(\n\tdomNode: Node,\n\tpreviousProperties: VirtualDomProperties,\n\tproperties: VirtualDomProperties,\n\tprojectionOptions: ProjectionOptions\n) {\n\tconst eventMap = projectionOptions.nodeMap.get(domNode);\n\tif (eventMap) {\n\t\tObject.keys(previousProperties).forEach((propName) => {\n\t\t\tif (propName.substr(0, 2) === 'on' && !properties[propName]) {\n\t\t\t\tconst eventCallback = eventMap.get(previousProperties[propName]);\n\t\t\t\tif (eventCallback) {\n\t\t\t\t\tdomNode.removeEventListener(propName.substr(2), eventCallback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction updateProperties(\n\tdomNode: Node,\n\tpreviousProperties: VirtualDomProperties,\n\tproperties: VirtualDomProperties,\n\tprojectionOptions: ProjectionOptions\n) {\n\tlet propertiesUpdated = false;\n\tconst propNames = Object.keys(properties);\n\tconst propCount = propNames.length;\n\tif (propNames.indexOf('classes') === -1 && previousProperties.classes) {\n\t\tif (Array.isArray(previousProperties.classes)) {\n\t\t\tfor (let i = 0; i < previousProperties.classes.length; i++) {\n\t\t\t\tremoveClasses(domNode, previousProperties.classes[i]);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tremoveClasses(domNode, previousProperties.classes);\n\t\t}\n\t}\n\n\tremoveOrphanedEvents(domNode, previousProperties, properties, projectionOptions);\n\n\tfor (let i = 0; i < propCount; i++) {\n\t\tconst propName = propNames[i];\n\t\tlet propValue = properties[propName];\n\t\tconst previousValue = previousProperties![propName];\n\t\tif (propName === 'classes') {\n\t\t\tconst previousClasses = Array.isArray(previousValue) ? previousValue : [ previousValue ];\n\t\t\tconst currentClasses = Array.isArray(propValue) ? propValue : [ propValue ];\n\t\t\tif (previousClasses && previousClasses.length > 0) {\n\t\t\t\tif (!propValue || propValue.length === 0) {\n\t\t\t\t\tfor (let i = 0; i < previousClasses.length; i++) {\n\t\t\t\t\t\tremoveClasses(domNode, previousClasses[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst newClasses: (null | undefined | string)[] = [ ...currentClasses ];\n\t\t\t\t\tfor (let i = 0; i < previousClasses.length; i++) {\n\t\t\t\t\t\tconst previousClassName = previousClasses[i];\n\t\t\t\t\t\tif (previousClassName) {\n\t\t\t\t\t\t\tconst classIndex = newClasses.indexOf(previousClassName);\n\t\t\t\t\t\t\tif (classIndex === -1) {\n\t\t\t\t\t\t\t\tremoveClasses(domNode, previousClassName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tnewClasses.splice(classIndex, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < newClasses.length; i++) {\n\t\t\t\t\t\taddClasses(domNode, newClasses[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfor (let i = 0; i < currentClasses.length; i++) {\n\t\t\t\t\taddClasses(domNode, currentClasses[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (propName === 'styles') {\n\t\t\tconst styleNames = Object.keys(propValue);\n\t\t\tconst styleCount = styleNames.length;\n\t\t\tfor (let j = 0; j < styleCount; j++) {\n\t\t\t\tconst styleName = styleNames[j];\n\t\t\t\tconst newStyleValue = propValue[styleName];\n\t\t\t\tconst oldStyleValue = previousValue[styleName];\n\t\t\t\tif (newStyleValue === oldStyleValue) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tpropertiesUpdated = true;\n\t\t\t\tif (newStyleValue) {\n\t\t\t\t\tcheckStyleValue(newStyleValue);\n\t\t\t\t\tprojectionOptions.styleApplyer!(domNode as HTMLElement, styleName, newStyleValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tprojectionOptions.styleApplyer!(domNode as HTMLElement, styleName, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!propValue && typeof previousValue === 'string') {\n\t\t\t\tpropValue = '';\n\t\t\t}\n\t\t\tif (propName === 'value') {\n\t\t\t\tconst domValue = (domNode as any)[propName];\n\t\t\t\tif (\n\t\t\t\t\tdomValue !== propValue\n\t\t\t\t\t&& ((domNode as any)['oninput-value']\n\t\t\t\t\t\t? domValue === (domNode as any)['oninput-value']\n\t\t\t\t\t\t: propValue !== previousValue\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t(domNode as any)['oninput-value'] = undefined;\n\t\t\t\t}\n\t\t\t\tif (propValue !== previousValue) {\n\t\t\t\t\tpropertiesUpdated = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (propValue !== previousValue) {\n\t\t\t\tconst type = typeof propValue;\n\t\t\t\tif (type === 'function' && propName.lastIndexOf('on', 0) === 0) {\n\t\t\t\t\tupdateEvents(domNode, propName, properties, projectionOptions, previousProperties);\n\t\t\t\t}\n\t\t\t\telse if (type === 'string' && propName !== 'innerHTML') {\n\t\t\t\t\tif (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n\t\t\t\t\t\t(domNode as Element).setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propName === 'role' && propValue === '') {\n\t\t\t\t\t\t(domNode as any).removeAttribute(propName);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t(domNode as Element).setAttribute(propName, propValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif ((domNode as any)[propName] !== propValue) { // Comparison is here for side-effects in Edge with scrollLeft and scrollTop\n\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpropertiesUpdated = true;\n\t\t\t}\n\t\t}\n\t}\n\treturn propertiesUpdated;\n}\n\nfunction findIndexOfChild(children: InternalDNode[], sameAs: InternalDNode, start: number) {\n\tfor (let i = start; i < children.length; i++) {\n\t\tif (same(children[i], sameAs)) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\nexport function toParentHNode(domNode: Element): InternalHNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\tdomNode,\n\t\ttype: HNODE\n\t};\n}\n\nexport function toTextHNode(data: any): InternalHNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\ttext: `${data}`,\n\t\tdomNode: undefined,\n\t\ttype: HNODE\n\t};\n}\n\nexport function filterAndDecorateChildren(children: undefined | DNode | DNode[], instance: DefaultWidgetBaseInterface): InternalDNode[] {\n\tif (children === undefined) {\n\t\treturn emptyArray;\n\t}\n\tchildren = Array.isArray(children) ? children : [ children ];\n\n\tfor (let i = 0; i < children.length; ) {\n\t\tconst child = children[i] as InternalDNode;\n\t\tif (child === undefined || child === null) {\n\t\t\tchildren.splice(i, 1);\n\t\t\tcontinue;\n\t\t}\n\t\telse if (typeof child === 'string') {\n\t\t\tchildren[i] = toTextHNode(child);\n\t\t}\n\t\telse {\n\t\t\tif (isHNode(child)) {\n\t\t\t\tif (child.properties.bind === undefined) {\n\t\t\t\t\t(child.properties as any).bind = instance;\n\t\t\t\t\tif (child.children && child.children.length > 0) {\n\t\t\t\t\t\tfilterAndDecorateChildren(child.children, instance);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!child.coreProperties) {\n\t\t\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\t\t\tchild.coreProperties = {\n\t\t\t\t\t\tbind: instance,\n\t\t\t\t\t\tbaseRegistry: instanceData.coreProperties.baseRegistry\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (child.children && child.children.length > 0) {\n\t\t\t\t\tfilterAndDecorateChildren(child.children, instance);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ti++;\n\t}\n\treturn children as InternalDNode[];\n}\n\nfunction nodeAdded(dnode: InternalDNode, transitions: TransitionStrategy) {\n\tif (isHNode(dnode) && dnode.properties) {\n\t\tconst enterAnimation = dnode.properties.enterAnimation;\n\t\tif (enterAnimation) {\n\t\t\tif (typeof enterAnimation === 'function') {\n\t\t\t\tenterAnimation(dnode.domNode as Element, dnode.properties);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttransitions.enter(dnode.domNode as Element, dnode.properties, enterAnimation as string);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction callOnDetach(dNodes: InternalDNode | InternalDNode[], parentInstance: DefaultWidgetBaseInterface): void {\n\tdNodes = Array.isArray(dNodes) ? dNodes : [ dNodes ];\n\tfor (let i = 0; i < dNodes.length; i++) {\n\t\tconst dNode = dNodes[i];\n\t\tif (isWNode(dNode)) {\n\t\t\tcallOnDetach(dNode.rendered, dNode.instance);\n\t\t\tconst instanceData = widgetInstanceMap.get(dNode.instance)!;\n\t\t\tinstanceData.onDetach();\n\t\t}\n\t\telse {\n\t\t\tif (dNode.children) {\n\t\t\t\tcallOnDetach(dNode.children as InternalDNode[], parentInstance);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction nodeToRemove(dnode: InternalDNode, transitions: TransitionStrategy, projectionOptions: ProjectionOptions) {\n\tif (isWNode(dnode)) {\n\t\tconst rendered = dnode.rendered || emptyArray;\n\t\tfor (let i = 0; i < rendered.length; i++) {\n\t\t\tconst child = rendered[i];\n\t\t\tif (isHNode(child)) {\n\t\t\t\tchild.domNode!.parentNode!.removeChild(child.domNode!);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnodeToRemove(child, transitions, projectionOptions);\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\tconst domNode = dnode.domNode;\n\t\tconst properties = dnode.properties;\n\t\tconst exitAnimation = properties.exitAnimation;\n\t\tif (properties && exitAnimation) {\n\t\t\t(domNode as HTMLElement).style.pointerEvents = 'none';\n\t\t\tconst removeDomNode = function() {\n\t\t\t\tdomNode && domNode.parentNode && domNode.parentNode.removeChild(domNode);\n\t\t\t};\n\t\t\tif (typeof exitAnimation === 'function') {\n\t\t\t\texitAnimation(domNode as Element, removeDomNode, properties);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttransitions.exit(dnode.domNode as Element, properties, exitAnimation as string, removeDomNode);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdomNode && domNode.parentNode && domNode.parentNode.removeChild(domNode);\n\t}\n}\n\nfunction checkDistinguishable(\n\tchildNodes: InternalDNode[],\n\tindexToCheck: number,\n\tparentInstance: DefaultWidgetBaseInterface\n) {\n\tconst childNode = childNodes[indexToCheck];\n\tif (isHNode(childNode) && childNode.tag === '') {\n\t\treturn; // Text nodes need not be distinguishable\n\t}\n\tconst { key } = childNode.properties;\n\n\tif (key === undefined || key === null) {\n\t\tfor (let i = 0; i < childNodes.length; i++) {\n\t\t\tif (i !== indexToCheck) {\n\t\t\t\tconst node = childNodes[i];\n\t\t\t\tif (same(node, childNode)) {\n\t\t\t\t\tconst parentName = (parentInstance as any).constructor.name || 'unknown';\n\t\t\t\t\tconst nodeIdentifier = isWNode(childNode) ? (childNode.widgetConstructor as any).name || 'unknown' : childNode.tag;\n\n\t\t\t\t\tconsole.warn(`A widget (${parentName}) has had a child addded or removed, but they were not able to uniquely identified. It is recommended to provide a unique 'key' property when using the same widget or element (${nodeIdentifier}) multiple times as siblings`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateChildren(\n\tparentHNode: InternalHNode,\n\toldChildren: InternalDNode[],\n\tnewChildren: InternalDNode[],\n\tparentInstance: DefaultWidgetBaseInterface,\n\tprojectionOptions: ProjectionOptions\n) {\n\toldChildren = oldChildren || emptyArray;\n\tnewChildren = newChildren;\n\tconst oldChildrenLength = oldChildren.length;\n\tconst newChildrenLength = newChildren.length;\n\tconst transitions = projectionOptions.transitions!;\n\n\tlet oldIndex = 0;\n\tlet newIndex = 0;\n\tlet i: number;\n\tlet textUpdated = false;\n\twhile (newIndex < newChildrenLength) {\n\t\tconst oldChild = (oldIndex < oldChildrenLength) ? oldChildren[oldIndex] : undefined;\n\t\tconst newChild = newChildren[newIndex];\n\n\t\tif (oldChild !== undefined && same(oldChild, newChild)) {\n\t\t\ttextUpdated = updateDom(oldChild, newChild, projectionOptions, parentHNode, parentInstance) || textUpdated;\n\t\t\toldIndex++;\n\t\t}\n\t\telse {\n\t\t\tconst findOldIndex = findIndexOfChild(oldChildren, newChild, oldIndex + 1);\n\t\t\tif (findOldIndex >= 0) {\n\t\t\t\tfor (i = oldIndex; i < findOldIndex; i++) {\n\t\t\t\t\tconst oldChild = oldChildren[i];\n\t\t\t\t\tconst indexToCheck = i;\n\t\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\t\tcallOnDetach(oldChild, parentInstance);\n\t\t\t\t\t\tcheckDistinguishable(oldChildren, indexToCheck, parentInstance);\n\t\t\t\t\t});\n\t\t\t\t\tnodeToRemove(oldChildren[i], transitions, projectionOptions);\n\t\t\t\t}\n\t\t\t\ttextUpdated = updateDom(oldChildren[findOldIndex], newChild, projectionOptions, parentHNode, parentInstance) || textUpdated;\n\t\t\t\toldIndex = findOldIndex + 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet insertBefore: Node | undefined = undefined;\n\t\t\t\tlet child: InternalDNode = oldChildren[oldIndex];\n\t\t\t\tif (child) {\n\t\t\t\t\tlet nextIndex = oldIndex + 1;\n\t\t\t\t\twhile (insertBefore === undefined) {\n\t\t\t\t\t\tif (isWNode(child)) {\n\t\t\t\t\t\t\tif (child.rendered) {\n\t\t\t\t\t\t\t\tchild = child.rendered[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (oldChildren[nextIndex]) {\n\t\t\t\t\t\t\t\tchild = oldChildren[nextIndex];\n\t\t\t\t\t\t\t\tnextIndex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tinsertBefore = child.domNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcreateDom(newChild, parentHNode, insertBefore, projectionOptions, parentInstance);\n\t\t\t\tnodeAdded(newChild, transitions);\n\t\t\t\tconst indexToCheck = newIndex;\n\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\tcheckDistinguishable(newChildren, indexToCheck, parentInstance);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tnewIndex++;\n\t}\n\tif (oldChildrenLength > oldIndex) {\n\t\t// Remove child fragments\n\t\tfor (i = oldIndex; i < oldChildrenLength; i++) {\n\t\t\tconst oldChild = oldChildren[i];\n\t\t\tconst indexToCheck = i;\n\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\tcallOnDetach(oldChild, parentInstance);\n\t\t\t\tcheckDistinguishable(oldChildren, indexToCheck, parentInstance);\n\t\t\t});\n\t\t\tnodeToRemove(oldChildren[i], transitions, projectionOptions);\n\t\t}\n\t}\n\treturn textUpdated;\n}\n\nfunction addChildren(\n\tparentHNode: InternalHNode,\n\tchildren: InternalDNode[] | undefined,\n\tprojectionOptions: ProjectionOptions,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tinsertBefore: undefined | Node = undefined,\n\tchildNodes?: Node[]\n) {\n\tif (children === undefined) {\n\t\treturn;\n\t}\n\n\tif (projectionOptions.merge && childNodes === undefined) {\n\t\tchildNodes = Array.from(parentHNode.domNode!.childNodes);\n\t}\n\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst child = children[i];\n\n\t\tif (isHNode(child)) {\n\t\t\tif (projectionOptions.merge && childNodes) {\n\t\t\t\tlet domElement: HTMLElement | undefined = undefined;\n\t\t\t\twhile (child.domNode === undefined && childNodes.length > 0) {\n\t\t\t\t\tdomElement = childNodes.shift() as HTMLElement;\n\t\t\t\t\tif (domElement && domElement.tagName === (child.tag.toUpperCase() || undefined)) {\n\t\t\t\t\t\tchild.domNode = domElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreateDom(child, parentHNode, insertBefore, projectionOptions, parentInstance);\n\t\t}\n\t\telse {\n\t\t\tcreateDom(child, parentHNode, insertBefore, projectionOptions, parentInstance, childNodes);\n\t\t}\n\t}\n}\n\nfunction initPropertiesAndChildren(\n\tdomNode: Node,\n\tdnode: InternalHNode,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tprojectionOptions: ProjectionOptions\n) {\n\taddChildren(dnode, dnode.children, projectionOptions, parentInstance, undefined);\n\tif (typeof dnode.deferredPropertiesCallback === 'function') {\n\t\taddDeferredProperties(dnode, projectionOptions);\n\t}\n\tupdateProperties(domNode, { classes: [], styles: {} }, dnode.properties, projectionOptions);\n\tif (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\tinstanceData.nodeHandler.add(domNode as HTMLElement, `${dnode.properties.key}`);\n\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onElementCreated(domNode as HTMLElement, dnode.properties.key as any);\n\t\t});\n\t}\n\tdnode.inserted = true;\n}\n\nfunction createDom(\n\tdnode: InternalDNode,\n\tparentHNode: InternalHNode,\n\tinsertBefore: Node | undefined,\n\tprojectionOptions: ProjectionOptions,\n\tparentInstance: DefaultWidgetBaseInterface,\n\tchildNodes?: Node[]\n) {\n\tlet domNode: Node | undefined;\n\tif (isWNode(dnode)) {\n\t\tlet { widgetConstructor } = dnode;\n\t\tconst parentInstanceData = widgetInstanceMap.get(parentInstance)!;\n\t\tif (!isWidgetBaseConstructor<DefaultWidgetBaseInterface>(widgetConstructor)) {\n\t\t\tconst item = parentInstanceData.registry().get<DefaultWidgetBaseInterface>(widgetConstructor);\n\t\t\tif (item === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twidgetConstructor = item;\n\t\t}\n\t\tconst instance = new widgetConstructor();\n\t\tdnode.instance = instance;\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.parentInvalidate = parentInstanceData.invalidate;\n\t\tinstance.__setCoreProperties__(dnode.coreProperties);\n\t\tinstance.__setChildren__(dnode.children);\n\t\tinstance.__setProperties__(dnode.properties);\n\t\tconst rendered = instance.__render__();\n\t\tif (rendered) {\n\t\t\tconst filteredRendered = filterAndDecorateChildren(rendered, instance);\n\t\t\tdnode.rendered = filteredRendered;\n\t\t\taddChildren(parentHNode, filteredRendered, projectionOptions, instance, insertBefore, childNodes);\n\t\t}\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t}\n\telse {\n\t\tif (projectionOptions.merge && projectionOptions.mergeElement !== undefined) {\n\t\t\tdomNode = dnode.domNode = projectionOptions.mergeElement;\n\t\t\tprojectionOptions.mergeElement = undefined;\n\t\t\tinitPropertiesAndChildren(domNode!, dnode, parentInstance, projectionOptions);\n\t\t\treturn;\n\t\t}\n\t\tconst doc = parentHNode.domNode!.ownerDocument;\n\t\tif (dnode.tag === '') {\n\t\t\tif (dnode.domNode !== undefined) {\n\t\t\t\tconst newDomNode = dnode.domNode.ownerDocument.createTextNode(dnode.text!);\n\t\t\t\tdnode.domNode.parentNode!.replaceChild(newDomNode, dnode.domNode);\n\t\t\t\tdnode.domNode = newDomNode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdomNode = dnode.domNode = doc.createTextNode(dnode.text!);\n\t\t\t\tif (insertBefore !== undefined) {\n\t\t\t\t\tparentHNode.domNode!.insertBefore(domNode, insertBefore);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tparentHNode.domNode!.appendChild(domNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (dnode.domNode === undefined) {\n\t\t\t\tif (dnode.tag === 'svg') {\n\t\t\t\t\tprojectionOptions = { ...projectionOptions, ...{ namespace: NAMESPACE_SVG } };\n\t\t\t\t}\n\t\t\t\tif (projectionOptions.namespace !== undefined) {\n\t\t\t\t\tdomNode = dnode.domNode = doc.createElementNS(projectionOptions.namespace, dnode.tag);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdomNode = dnode.domNode = (dnode.domNode || doc.createElement(dnode.tag));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdomNode = dnode.domNode;\n\t\t\t}\n\t\t\tif (insertBefore !== undefined) {\n\t\t\t\tparentHNode.domNode!.insertBefore(domNode, insertBefore);\n\t\t\t}\n\t\t\telse if (domNode!.parentNode !== parentHNode.domNode!) {\n\t\t\t\tparentHNode.domNode!.appendChild(domNode);\n\t\t\t}\n\t\t\tinitPropertiesAndChildren(domNode!, dnode, parentInstance, projectionOptions);\n\t\t}\n\t}\n}\n\nfunction updateDom(previous: any, dnode: InternalDNode, projectionOptions: ProjectionOptions, parentHNode: InternalHNode, parentInstance: DefaultWidgetBaseInterface) {\n\tif (isWNode(dnode)) {\n\t\tconst { instance, rendered: previousRendered } = previous;\n\t\tif (instance && previousRendered) {\n\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\tinstance.__setCoreProperties__(dnode.coreProperties);\n\t\t\tinstance.__setChildren__(dnode.children);\n\t\t\tinstance.__setProperties__(dnode.properties);\n\t\t\tdnode.instance = instance;\n\t\t\tif (instanceData.dirty === true) {\n\t\t\t\tconst rendered = instance.__render__();\n\t\t\t\tdnode.rendered = filterAndDecorateChildren(rendered, instance);\n\t\t\t\tupdateChildren(parentHNode, previousRendered, dnode.rendered, instance, projectionOptions);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdnode.rendered = previousRendered;\n\t\t\t}\n\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t}\n\t\telse {\n\t\t\tcreateDom(dnode, parentHNode, undefined, projectionOptions, parentInstance);\n\t\t}\n\t}\n\telse {\n\t\tif (previous === dnode) {\n\t\t\treturn false;\n\t\t}\n\t\tconst domNode = dnode.domNode = previous.domNode;\n\t\tlet textUpdated = false;\n\t\tlet updated = false;\n\t\tdnode.inserted = previous.inserted;\n\t\tif (dnode.tag === '') {\n\t\t\tif (dnode.text !== previous.text) {\n\t\t\t\tconst newDomNode = domNode.ownerDocument.createTextNode(dnode.text!);\n\t\t\t\tdomNode.parentNode!.replaceChild(newDomNode, domNode);\n\t\t\t\tdnode.domNode = newDomNode;\n\t\t\t\ttextUpdated = true;\n\t\t\t\treturn textUpdated;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (dnode.tag.lastIndexOf('svg', 0) === 0) {\n\t\t\t\tprojectionOptions = { ...projectionOptions, ...{ namespace: NAMESPACE_SVG } };\n\t\t\t}\n\t\t\tif (previous.children !== dnode.children) {\n\t\t\t\tconst children = filterAndDecorateChildren(dnode.children, parentInstance);\n\t\t\t\tdnode.children = children;\n\t\t\t\tupdated = updateChildren(dnode, previous.children, children, parentInstance, projectionOptions) || updated;\n\t\t\t}\n\n\t\t\tif (typeof dnode.deferredPropertiesCallback === 'function') {\n\t\t\t\taddDeferredProperties(dnode, projectionOptions);\n\t\t\t}\n\n\t\t\tupdated = updateProperties(domNode, previous.properties, dnode.properties, projectionOptions) || updated;\n\n\t\t\tif (dnode.properties.key !== null && dnode.properties.key !== undefined) {\n\t\t\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\t\t\tinstanceData.nodeHandler.add(domNode, `${dnode.properties.key}`);\n\t\t\t\tprojectionOptions.afterRenderCallbacks.push(() => {\n\t\t\t\t\tinstanceData.onElementUpdated(domNode as HTMLElement, dnode.properties.key as any);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (updated && dnode.properties && dnode.properties.updateAnimation) {\n\t\t\tdnode.properties.updateAnimation(domNode as Element, dnode.properties, previous.properties);\n\t\t}\n\t\treturn textUpdated;\n\t}\n}\n\nfunction addDeferredProperties(hnode: InternalHNode, projectionOptions: ProjectionOptions) {\n\t// transfer any properties that have been passed - as these must be decorated properties\n\thnode.decoratedDeferredProperties = hnode.properties;\n\tconst properties = hnode.deferredPropertiesCallback!(!!hnode.inserted);\n\thnode.properties = { ...properties, ...hnode.decoratedDeferredProperties };\n\tprojectionOptions.deferredRenderCallbacks.push(() => {\n\t\tconst properties = {\n\t\t\t...hnode.deferredPropertiesCallback!(!!hnode.inserted),\n\t\t\t...hnode.decoratedDeferredProperties\n\t\t};\n\t\tupdateProperties(hnode.domNode!, hnode.properties, properties, projectionOptions);\n\t\thnode.properties = properties;\n\t});\n}\n\nfunction runDeferredRenderCallbacks(projectionOptions: ProjectionOptions) {\n\tif (projectionOptions.deferredRenderCallbacks.length) {\n\t\tif (projectionOptions.sync) {\n\t\t\twhile (projectionOptions.deferredRenderCallbacks.length) {\n\t\t\t\tconst callback = projectionOptions.deferredRenderCallbacks.shift();\n\t\t\t\tcallback && callback();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\twindow.requestAnimationFrame(() => {\n\t\t\t\twhile (projectionOptions.deferredRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.deferredRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction runAfterRenderCallbacks(projectionOptions: ProjectionOptions) {\n\tif (projectionOptions.sync) {\n\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\tcallback && callback();\n\t\t}\n\t}\n\telse {\n\t\tif ((window as any).requestIdleCallback) {\n\t\t\t(window as any).requestIdleCallback(() => {\n\t\t\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tsetTimeout(() => {\n\t\t\t\twhile (projectionOptions.afterRenderCallbacks.length) {\n\t\t\t\t\tconst callback = projectionOptions.afterRenderCallbacks.shift();\n\t\t\t\t\tcallback && callback();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction createProjection(dnode: InternalDNode | InternalDNode[], parentInstance: DefaultWidgetBaseInterface, projectionOptions: ProjectionOptions): Projection {\n\tlet projectionDNode = Array.isArray(dnode) ? dnode : [ dnode ];\n\tprojectionOptions.merge = false;\n\treturn {\n\t\tupdate: function(updatedDNode: RenderResult) {\n\t\t\tlet domNode = projectionOptions.rootNode;\n\n\t\t\tupdatedDNode = filterAndDecorateChildren(updatedDNode, parentInstance);\n\t\t\tupdateChildren(toParentHNode(domNode), projectionDNode, updatedDNode as InternalDNode[], parentInstance, projectionOptions);\n\t\t\tconst instanceData = widgetInstanceMap.get(parentInstance)!;\n\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t\trunDeferredRenderCallbacks(projectionOptions);\n\t\t\trunAfterRenderCallbacks(projectionOptions);\n\t\t\tprojectionDNode = updatedDNode as InternalDNode[];\n\t\t},\n\t\tdomNode: projectionOptions.rootNode\n\t};\n}\n\nexport const dom = {\n\tmerge: function(element: Element, dNode: RenderResult, instance: DefaultWidgetBaseInterface, projectionOptions?: Partial<ProjectionOptions>): Projection {\n\t\tif (Array.isArray(dNode)) {\n\t\t\tthrow new Error('Unable to merge an array of nodes. (consider adding one extra level to the virtual DOM)');\n\t\t}\n\t\tconst finalProjectorOptions = getProjectionOptions(projectionOptions);\n\t\tfinalProjectorOptions.merge = true;\n\t\tfinalProjectorOptions.mergeElement = element;\n\t\tfinalProjectorOptions.rootNode = element.parentNode as Element;\n\t\tconst decoratedNode = filterAndDecorateChildren(dNode, instance)[0] as InternalHNode;\n\t\tcreateDom(decoratedNode, toParentHNode(finalProjectorOptions.rootNode), undefined, finalProjectorOptions, instance);\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.nodeHandler.addRoot();\n\t\tfinalProjectorOptions.afterRenderCallbacks.push(() => {\n\t\t\tinstanceData.onAttach();\n\t\t});\n\t\trunDeferredRenderCallbacks(finalProjectorOptions);\n\t\trunAfterRenderCallbacks(finalProjectorOptions);\n\t\treturn createProjection(decoratedNode, instance, finalProjectorOptions);\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// vdom.ts","require('offline-plugin/runtime').install();\n\n\n\n// WEBPACK FOOTER //\n// sw.ts","var appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/offline-plugin/runtime.js\n// module id = 11\n// module chunks = 0","import { add, exists } from '@dojo/core/has';\nif (!exists('build-time-render')) {\n\tadd('build-time-render', false, false);\n}\n\n\n\n// WEBPACK FOOTER //\n// btr.ts","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 13\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 14\n// module chunks = 0","import { ProjectorMixin } from '@dojo/widget-core/mixins/Projector';\nimport { Registry } from '@dojo/widget-core/Registry';\n// import { registerRouterInjector } from '@dojo/routing/RouterInjector';\nimport { Context } from './Context';\n\nimport { AppContainer } from './containers/AppContainer';\n\nconst registry = new Registry();\nconst context = new Context();\nregistry.defineInjector('state', context);\n\n// const routingConfig = [\n// \t{\n// \t\tpath: 'user/{user}',\n// \t\toutlet: 'user'\n// \t},\n// \t{\n// \t\tpath: 'comments/{id}',\n// \t\toutlet: 'comments'\n// \t},\n// \t{\n// \t\tpath: '{category}/{page}',\n// \t\toutlet: 'content',\n// \t\tdefaultRoute: true,\n// \t\tdefaultParams: {\n// \t\t\tcategory: 'top',\n// \t\t\tpage: 1\n// \t\t}\n// \t}\n// ];\n\n// const router = registerRouterInjector(routingConfig, registry);\n// router.start();\n\nfunction router() {\n\tconst [ , route = 'top', id = '1' ] = window.location.hash.split('/');\n\tif (route === 'user') {\n\t\tcontext.route = 'user';\n\t\tcontext.emit({ type: 'invalidate' });\n\t}\n\telse if (route === 'comments') {\n\t\tif (id !== context.itemId  || context.route !== 'comments') {\n\t\t\tcontext.fetchItem(id);\n\t\t}\n\t}\n\telse {\n\t\tif (route !== context.category || parseInt(id, 10) !== context.page || context.route !== 'content') {\n\t\t\tcontext.fetchStories(route, parseInt(id, 10));\n\t\t}\n\t}\n};\n\nwindow.onhashchange = router;\nrouter();\n\nconst Projector = ProjectorMixin(AppContainer);\nconst projector = new Projector();\nprojector.setProperties({ registry });\nprojector.merge(document.getElementById('app') || undefined);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/main.ts","import { Constructor, DNode, Projection, ProjectionOptions } from './../interfaces';\nimport { WidgetBase } from './../WidgetBase';\nimport { afterRender } from './../decorators/afterRender';\nimport { v } from './../d';\nimport { Registry } from './../Registry';\nimport { dom, widgetInstanceMap } from './../vdom';\n\n/**\n * Represents the attach state of the projector\n */\nexport enum ProjectorAttachState {\n\tAttached = 1,\n\tDetached\n}\n\n/**\n * Attach type for the projector\n */\nexport enum AttachType {\n\tAppend = 1,\n\tMerge = 2,\n\tReplace = 3\n}\n\nexport interface AttachOptions {\n\n\t/**\n\t * If `'append'` it will appended to the root. If `'merge'` it will merged with the root. If `'replace'` it will\n\t * replace the root.\n\t */\n\ttype: AttachType;\n\n\t/**\n\t * Element to attach the projector.\n\t */\n\troot?: Element;\n}\n\nexport interface ProjectorProperties {\n\tregistry?: Registry;\n}\n\nexport interface ProjectorMixin<P> {\n\n\treadonly properties: Readonly<P> & Readonly<ProjectorProperties>;\n\n\t/**\n\t * Merge the projector onto the root.\n\t *\n\t * The `root` and any of its `children` will be re-used.  Any excess DOM nodes will be ignored and any missing DOM nodes\n\t * will be created.\n\t * @param root The root element that the root virtual DOM node will be merged with.  Defaults to `document.body`.\n\t */\n\tmerge(root?: Element): void;\n\n\t/**\n\t * Pause the projector.\n\t */\n\tpause(): void;\n\n\t/**\n\t * Resume the projector.\n\t */\n\tresume(): void;\n\n\t/**\n\t * Schedule a render.\n\t */\n\tscheduleRender(): void;\n\n\t/**\n\t * Sets the properties for the widget. Responsible for calling the diffing functions for the properties against the\n\t * previous properties. Runs though any registered specific property diff functions collecting the results and then\n\t * runs the remainder through the catch all diff function. The aggregate of the two sets of the results is then\n\t * set as the widget's properties\n\t *\n\t * @param properties The new widget properties\n\t */\n\tsetProperties(properties: this['properties']): void;\n\n\t/**\n\t * Sets the widget's children\n\t */\n\tsetChildren(children: DNode[]): void;\n\n\t/**\n\t * Indicates if the projectors is in async mode, configured to `true` by defaults.\n\t */\n\tasync: boolean;\n\n\t/**\n\t * The status of the projector\n\t */\n\treadonly projectorState: ProjectorAttachState;\n\n\t/**\n\t * Exposes invalidate for projector instances\n\t */\n\tinvalidate(): void;\n}\n\nexport function ProjectorMixin<P, T extends Constructor<WidgetBase<P>>>(Base: T): T & Constructor<ProjectorMixin<P>> {\n\tclass Projector extends Base {\n\n\t\tpublic projectorState: ProjectorAttachState;\n\t\tpublic properties: Readonly<P> & Readonly<ProjectorProperties>;\n\t\tprivate _async = true;\n\t\tprivate _projectionOptions: Partial<ProjectionOptions>;\n\t\tprivate _projection: Projection | undefined;\n\t\tprivate _scheduled: number | undefined;\n\t\tprivate _paused: boolean;\n\t\tprivate _boundDoRender: () => void;\n\t\tprivate _boundRender: Function;\n\t\tprivate _projectorChildren: DNode[] = [];\n\t\tprivate _projectorProperties: this['properties'] = {} as this['properties'];\n\n\t\tconstructor(...args: any[]) {\n\t\t\tsuper(...args);\n\t\t\tconst instanceData = widgetInstanceMap.get(this)!;\n\t\t\tinstanceData.parentInvalidate = () => {\n\t\t\t\tthis.scheduleRender();\n\t\t\t};\n\t\t\tthis._projectionOptions = {};\n\t\t\tthis._boundDoRender = this._doRender.bind(this);\n\t\t\tthis._boundRender = this.__render__.bind(this);\n\t\t\tthis.projectorState = ProjectorAttachState.Detached;\n\t\t}\n\n\t\tpublic merge(root?: Element): void {\n\t\t\tconst options = {\n\t\t\t\ttype: AttachType.Merge,\n\t\t\t\troot\n\t\t\t};\n\n\t\t\treturn this._attach(options);\n\t\t}\n\n\t\tpublic pause() {\n\t\t\tif (this._scheduled) {\n\t\t\t\twindow.cancelAnimationFrame(this._scheduled);\n\t\t\t\tthis._scheduled = undefined;\n\t\t\t}\n\t\t\tthis._paused = true;\n\t\t}\n\n\t\tpublic resume() {\n\t\t\tthis._paused = false;\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic scheduleRender() {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthis.__setProperties__(this._projectorProperties);\n\t\t\t\tthis.__setChildren__(this._projectorChildren);\n\t\t\t\t(this as any)._renderState = 1;\n\t\t\t\tif (!this._scheduled && !this._paused) {\n\t\t\t\t\tif (this._async) {\n\t\t\t\t\t\tthis._scheduled = window.requestAnimationFrame(this._boundDoRender);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis._boundDoRender();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic get async(): boolean {\n\t\t\treturn this._async;\n\t\t}\n\n\t\tpublic set async(async: boolean) {\n\t\t\tif (this.projectorState === ProjectorAttachState.Attached) {\n\t\t\t\tthrow new Error('Projector already attached, cannot change async mode');\n\t\t\t}\n\t\t\tthis._async = async;\n\t\t}\n\n\t\tpublic setChildren(children: DNode[]): void {\n\t\t\tthis.__setChildren__(children);\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic __setChildren__(children: DNode[]) {\n\t\t\tthis._projectorChildren = [ ...children ];\n\t\t\tsuper.__setChildren__(children);\n\t\t}\n\n\t\tpublic setProperties(properties: this['properties']): void {\n\t\t\tthis.__setProperties__(properties);\n\t\t\tthis.scheduleRender();\n\t\t}\n\n\t\tpublic __setProperties__(properties: this['properties']): void {\n\t\t\tthis._projectorProperties = { ...(properties as any) };\n\t\t\tsuper.__setCoreProperties__({ bind: this, baseRegistry: properties.registry });\n\t\t\tsuper.__setProperties__(properties);\n\t\t}\n\n\t\t@afterRender()\n\t\tpublic afterRender(result: DNode) {\n\t\t\tlet node = result;\n\t\t\tif (typeof result === 'string' || result === null || result === undefined) {\n\t\t\t\tnode = v('span', {}, [ result ]);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t}\n\n\t\tprivate _doRender() {\n\t\t\tthis._scheduled = undefined;\n\n\t\t\tif (this._projection) {\n\t\t\t\tthis._projection.update(this._boundRender());\n\t\t\t}\n\t\t}\n\n\t\tprivate _attach({ type, root = document.body }: AttachOptions): void {\n\t\t\tthis.projectorState = ProjectorAttachState.Attached;\n\t\t\tthis._projectionOptions = { ...this._projectionOptions, ...{ sync: !this._async } };\n\t\t\tthis._projection = dom.merge(root, this._boundRender(), this , this._projectionOptions);\n\t\t}\n\t}\n\n\treturn Projector;\n}\n\nexport default ProjectorMixin;\n\n\n\n// WEBPACK FOOTER //\n// Projector.ts","import { handleDecorator } from './handleDecorator';\n\n/**\n * Decorator that can be used to register a function to run as an aspect to `render`\n */\nexport function afterRender(method: Function): (target: any) => void;\nexport function afterRender(): (target: any, propertyKey: string) => void;\nexport function afterRender(method?: Function) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('afterRender', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default afterRender;\n\n\n\n// WEBPACK FOOTER //\n// afterRender.ts","import has from '@dojo/has/has';\nimport { Injector } from '@dojo/widget-core/Injector';\nimport { ArticleItem } from './interfaces';\n\nexport class Context extends Injector {\n\tprivate _articles?: ArticleItem[];\n\tprivate _item?: ArticleItem;\n\n\tprivate _category: string;\n\tprivate _page: number;\n\tprivate _itemId: string;\n\tprivate _route: string;\n\n\tconstructor() {\n\t\tsuper({});\n\t}\n\n\tpublic async fetchStories(category: string, page: number) {\n\t\tthis._page = page;\n\t\tthis._category = category;\n\t\tthis._route = 'content';\n\t\tthis._articles = undefined;\n\t\tthis.emit({ type: 'invalidate' });\n\t\tif (!has('build-time-render')) {\n\t\t\tthis._articles = await fetch(`https://agubler.github.io/test-hnpwa/articles.json`).then((response) => response.json());\n\t\t}\n\t\tthis.emit({ type: 'invalidate' });\n\t}\n\n\tpublic async fetchItem(id: string) {\n\t\tthis._item = undefined;\n\t\tthis._itemId = id;\n\t\tthis._route = 'comments';\n\t\tthis.emit({ type: 'invalidate' });\n\t\tif (!has('build-time-render')) {\n\t\t\tthis._item = await fetch(`https://api.hackerwebapp.com/item/${id}`).then((response) => response.json());\n\t\t}\n\t\tthis.emit({ type: 'invalidate' });\n\t}\n\n\tget() {\n\t\treturn this;\n\t}\n\n\tget articles() {\n\t\treturn this._articles;\n\t}\n\n\tget category() {\n\t\treturn this._category;\n\t}\n\n\tget page() {\n\t\treturn this._page;\n\t}\n\n\tget item() {\n\t\treturn this._item;\n\t}\n\n\tget route() {\n\t\treturn this._route;\n\t}\n\n\tset route(route: string) {\n\t\tthis._route = route;\n\t}\n\n\tget itemId() {\n\t\treturn this._itemId;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/Context.ts","import { Evented } from './Evented';\n\nexport class Injector<T = any> extends Evented {\n\n\tprivate _payload: T;\n\n\tconstructor(payload: T) {\n\t\tsuper();\n\t\tthis._payload = payload;\n\t}\n\n\tpublic get(): T {\n\t\treturn this._payload;\n\t}\n\n\tpublic set(payload: T): void {\n\t\tthis._payload = payload;\n\t\tthis.emit({ type: 'invalidate' });\n\t}\n}\n\nexport default Injector;\n\n\n\n// WEBPACK FOOTER //\n// Injector.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Context } from './../Context';\nimport { App } from './../widgets/App';\n\nfunction getProperties(context: Context, properties: any): any {\n\treturn {\n\t\troute: context.route\n\t};\n}\n\nexport const AppContainer = Container(App, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/AppContainer.ts","import { PropertyChangeRecord } from './interfaces';\nimport { WIDGET_BASE_TYPE } from './Registry';\n\nfunction isObjectOrArray(value: any): boolean {\n\treturn Object.prototype.toString.call(value) === '[object Object]' || Array.isArray(value);\n}\n\nexport function always(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: true,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function ignore(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: false,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function reference(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: previousProperty !== newProperty,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function shallow(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet changed = false;\n\n\tconst validOldProperty = previousProperty && isObjectOrArray(previousProperty);\n\tconst validNewProperty = newProperty && isObjectOrArray(newProperty);\n\n\tif (!validOldProperty || !validNewProperty) {\n\t\treturn {\n\t\t\tchanged: true,\n\t\t\tvalue: newProperty\n\t\t};\n\t}\n\n\tconst previousKeys = Object.keys(previousProperty);\n\tconst newKeys = Object.keys(newProperty);\n\n\tif (previousKeys.length !== newKeys.length) {\n\t\tchanged = true;\n\t}\n\telse {\n\t\tchanged = newKeys.some((key) => {\n\t\t\treturn newProperty[key] !== previousProperty[key];\n\t\t});\n\t}\n\treturn {\n\t\tchanged,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function auto(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet result;\n\tif (typeof newProperty === 'function') {\n\t\tif (newProperty._type === WIDGET_BASE_TYPE) {\n\t\t\tresult = reference(previousProperty, newProperty);\n\t\t}\n\t\telse {\n\t\t\tresult = ignore(previousProperty, newProperty);\n\t\t}\n\t}\n\telse if (isObjectOrArray(newProperty)) {\n\t\tresult = shallow(previousProperty, newProperty);\n\t}\n\telse {\n\t\tresult = reference(previousProperty, newProperty);\n\t}\n\treturn result;\n}\n\n\n\n// WEBPACK FOOTER //\n// diff.ts","import { Evented } from './Evented';\nimport { Constructor, RegistryLabel, WidgetBaseInterface } from './interfaces';\nimport { Registry, RegistryEventObject, RegistryItem } from './Registry';\nimport { Injector } from './Injector';\n\nexport class RegistryHandler extends Evented {\n\tprivate _registry = new Registry();\n\tprivate _baseRegistry: Registry;\n\tprivate _registryWidgetLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprivate _registryInjectorLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tpublic set base(baseRegistry: Registry) {\n\t\tthis._registryWidgetLabelMap.delete(this._baseRegistry);\n\t\tthis._registryInjectorLabelMap.delete(this._baseRegistry);\n\t\tthis._baseRegistry = baseRegistry;\n\t}\n\n\tpublic define(label: RegistryLabel, widget: RegistryItem): void {\n\t\tthis._registry.define(label, widget);\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injector: Injector): void {\n\t\tthis._registry.defineInjector(label, injector);\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn this._registry.has(label) || this._baseRegistry.has(label);\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn this._registry.hasInjector(label) || this._baseRegistry.hasInjector(label);\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel, globalPrecedence: boolean = false): Constructor<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'get', this._registryWidgetLabelMap);\n\t}\n\n\tpublic getInjector<T extends Injector>(label: RegistryLabel, globalPrecedence: boolean = false): T | null {\n\t\treturn this._get(label, globalPrecedence, 'getInjector', this._registryInjectorLabelMap);\n\t}\n\n\tprivate _get(label: RegistryLabel, globalPrecedence: boolean, getFunctionName: 'getInjector' | 'get', labelMap: Map<Registry, RegistryLabel[]>): any {\n\t\tconst registries = globalPrecedence ? [ this._baseRegistry, this._registry ] : [ this._registry, this._baseRegistry ];\n\t\tfor (let i = 0; i < registries.length; i++) {\n\t\t\tconst registry: any = registries[i];\n\t\t\tif (!registry) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst item = registry[getFunctionName](label);\n\t\t\tconst registeredLabels = labelMap.get(registry) || [];\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\telse if (registeredLabels.indexOf(label) === -1) {\n\t\t\t\tregistry.on(label, (event: RegistryEventObject) => {\n\t\t\t\t\tif (event.action === 'loaded' && (this as any)[getFunctionName](label, globalPrecedence) === event.item) {\n\t\t\t\t\t\tthis.emit({ type: 'invalidate' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlabelMap.set(registry, [ ...registeredLabels, label]);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default RegistryHandler;\n\n\n\n// WEBPACK FOOTER //\n// RegistryHandler.ts","import { Evented } from './Evented';\nimport { NodeHandlerInterface } from './interfaces';\n\n/**\n * Enum to identify the type of event.\n * Listening to 'Projector' will notify when projector is created or updated\n * Listening to 'Widget' will notify when widget root is created or updated\n */\nexport enum NodeEventType {\n\tProjector = 'Projector',\n\tWidget = 'Widget'\n}\n\nexport class NodeHandler extends Evented implements NodeHandlerInterface {\n\n\tprivate _nodeMap = new Map<string, HTMLElement>();\n\n\tpublic get(key: string): HTMLElement | undefined {\n\t\treturn this._nodeMap.get(key);\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn this._nodeMap.has(key);\n\t}\n\n\tpublic add(element: HTMLElement, key: string): void {\n\t\tthis._nodeMap.set(key, element);\n\t\tthis.emit({ type: key });\n\t}\n\n\tpublic addRoot(): void {\n\t\tthis.emit({ type: NodeEventType.Widget });\n\t}\n\n\tpublic addProjector(): void {\n\t\tthis.emit({ type: NodeEventType.Projector });\n\t}\n\n\tpublic clear(): void {\n\t\tthis._nodeMap.clear();\n\t}\n}\n\nexport default NodeHandler;\n\n\n\n// WEBPACK FOOTER //\n// NodeHandler.ts","import { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { Injector } from './../Injector';\nimport { beforeProperties } from './beforeProperties';\nimport { RegistryLabel } from './../interfaces';\n\n/**\n * Map of instances against registered injectors.\n */\nconst registeredInjectorsMap: WeakMap<WidgetBase, Injector[]> = new WeakMap();\n\n/**\n * Defines the contract requires for the get properties function\n * used to map the injected properties.\n */\nexport interface GetProperties<T = any> {\n\t(payload: any, properties: T): T;\n}\n\n/**\n * Defines the inject configuration required for use of the `inject` decorator\n */\nexport interface InjectConfig {\n\n\t/**\n\t * The label of the registry injector\n\t */\n\tname: RegistryLabel;\n\n\t/**\n\t * Function that returns propertues to inject using the passed properties\n\t * and the injected payload.\n\t */\n\tgetProperties: GetProperties;\n}\n\n/**\n * Decorator retrieves an injector from an available registry using the name and\n * calls the `getProperties` function with the payload from the injector\n * and current properties with the the injected properties returned.\n *\n * @param InjectConfig the inject configuration\n */\nexport function inject({ name, getProperties }: InjectConfig) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase, properties: any) {\n\t\t\tconst injector = this.registry.getInjector(name);\n\t\t\tif (injector) {\n\t\t\t\tconst registeredInjectors = registeredInjectorsMap.get(this) || [];\n\t\t\t\tif (registeredInjectors.length === 0) {\n\t\t\t\t\tregisteredInjectorsMap.set(this, registeredInjectors);\n\t\t\t\t}\n\t\t\t\tif (registeredInjectors.indexOf(injector) === -1) {\n\t\t\t\t\tinjector.on('invalidate', () => {\n\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tregisteredInjectors.push(injector);\n\t\t\t\t}\n\t\t\t\treturn getProperties(injector.get(), properties);\n\t\t\t}\n\t\t})(target);\n\t});\n}\n\nexport default inject;\n\n\n\n// WEBPACK FOOTER //\n// inject.ts","import { handleDecorator } from './handleDecorator';\nimport { BeforeProperties } from './../interfaces';\n\n/**\n * Decorator that adds the function passed of target method to be run\n * in the `beforeProperties` lifecycle.\n */\nexport function beforeProperties(method: BeforeProperties): (target: any) => void;\nexport function beforeProperties(): (target: any, propertyKey: string) => void;\nexport function beforeProperties(method?: BeforeProperties) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('beforeProperties', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default beforeProperties;\n\n\n\n// WEBPACK FOOTER //\n// beforeProperties.ts","import { v, w } from '@dojo/widget-core/d';\nimport { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { ContentContainer } from './../containers/ContentContainer';\nimport { CommentsContainer } from './../containers/CommentsContainer';\nimport { MenuContainer } from './../containers/MenuContainer';\n\nimport * as css from './styles/app.m.css';\nexport class App extends WidgetBase<any> {\n\tprotected render() {\n\t\tconst { route } = this.properties;\n\t\treturn v('div', [\n\t\t\tw(MenuContainer, {}),\n\t\t\tv('main', { classes: css.main }, [\n\t\t\t\troute === 'content' ? w(ContentContainer, {}) : null,\n\t\t\t\troute === 'comments' ? w(CommentsContainer, {}) : null\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/App.ts","import { Container } from '@dojo/widget-core/Container';\nimport { Context } from './../Context';\nimport { Content, ContentProperties } from './../widgets/Content';\n\nfunction getProperties(context: Context, properties: ContentProperties): ContentProperties {\n\treturn {\n\t\tarticles: context.articles,\n\t\tcategory: context.category,\n\t\tpageNumber: context.page\n\t};\n}\n\nexport const ContentContainer = Container(Content, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/ContentContainer.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { w, v } from '@dojo/widget-core/d';\nimport { DNode } from '@dojo/widget-core/interfaces';\n\nimport { ArticleItem } from './../interfaces';\nimport { Article } from './Article';\nimport * as css from './styles/content.m.css';\n\nexport interface ContentProperties {\n\tarticles?: ArticleItem[];\n\tcategory: string;\n\tpageNumber: number;\n}\n\nexport class Content extends WidgetBase<ContentProperties> {\n\n\tprotected render() {\n\t\tconst { articles = [], pageNumber, category } = this.properties;\n\t\tconst articlesNodes: DNode[] = [];\n\t\tconst length = articles.length || 30;\n\t\tfor (let index = 0; index < length; index++) {\n\t\t\tarticlesNodes.push(w(Article, { key: index, index, item: articles[index], pageNumber }));\n\t\t}\n\n\t\tconst pagination = v('div', { classes: css.pagination }, [\n\t\t\tpageNumber > 1 ? v('a', {\n\t\t\t\tkey: 'prev',\n\t\t\t\thref: `#/${category}/${pageNumber - 1}`,\n\t\t\t\tclasses: css.pageLink,\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: '#000'\n\t\t\t\t}\n\t\t\t}, [ '< prev' ]) : v('a', {\n\t\t\t\tkey: 'disabled-prev',\n\t\t\t\tclasses: css.pageLink,\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: 'rgba(49, 40, 40, 0.65)'\n\t\t\t\t}\n\t\t\t} , [ '< prev' ]),\n\t\t\tv('span', { classes: css.pageNumber }, [ `${pageNumber}` ]),\n\t\t\tarticles.length === 30 ? v('a', {\n\t\t\t\thref: `#/${category}/${pageNumber + 1}`,\n\t\t\t\tclasses: css.pageLink,\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: '#000'\n\t\t\t\t}\n\t\t\t}, [ 'next >' ]) : v('a', {\n\t\t\t\tkey: 'disabled-next',\n\t\t\t\tclasses: css.pageLink,\n\t\t\t\tstyles: {\n\t\t\t\t\tcolor: 'rgba(49, 40, 40, 0.65)'\n\t\t\t\t}\n\t\t\t} , [ 'next >' ])\n\t\t]);\n\n\t\treturn [ pagination, ...articlesNodes];\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Content.ts","import { v } from '@dojo/widget-core/d';\nimport { WidgetBase } from '@dojo/widget-core/WidgetBase';\n\nimport { ArticleItem } from './../interfaces';\n\nimport * as css from './styles/article.m.css';\n\nexport interface ArticleProperties {\n\titem?: ArticleItem;\n\tindex: number;\n\tpageNumber: number;\n}\n\nexport class Article extends WidgetBase<ArticleProperties> {\n\n\tprivate _articleShell() {\n\t\tconst percent = Math.floor(Math.random() * 20 + 80);\n\t\treturn [\n\t\t\tv('h2', { styles: { width: `${percent}%` }, classes: [ css.titleShell, css.animated, css.animatedTitle ] } ),\n\t\t\tv('p', { classes: [ css.subtitleShell, css.animated, css.animatedSubTitle ] })\n\t\t];\n\t}\n\n\tprivate _renderArticle(article: ArticleItem) {\n\t\tconst { url, title, points, user, id, comments_count, time_ago } = article;\n\t\tconst commentText = comments_count === 0 ? 'discuss' : `${comments_count} comments`;\n\n\t\tconst isComment = url.substr(0, 8) === 'item?id=';\n\t\tconst articleLink = v('a', {\n\t\t\tkey: 'article',\n\t\t\thref: isComment ? `#/comments/${url.substr(8)}` : url,\n\t\t\ttarget: isComment ? undefined : 'none'\n\t\t}, [ title ]);\n\n\t\treturn [\n\t\t\tv('h2', { classes: css.title, styles: {} }, [ articleLink ]),\n\t\t\tv('p', { classes: css.details }, [\n\t\t\t\tv('span', { key: 'points' }, [ `${points || 0} points ${user ? 'by ' : ''}` ]),\n\t\t\t\tuser ? v('a', {\n\t\t\t\t\tkey: 'user',\n\t\t\t\t\thref: `#/user/${user}`,\n\t\t\t\t\tclasses: css.link\n\t\t\t\t}, [\n\t\t\t\t\tuser\n\t\t\t\t]) : null,\n\t\t\t\tv('span', { key: 'time-ago'}, [ ` ${time_ago} ` ]),\n\t\t\t\tv('a', {\n\t\t\t\t\tkey: 'comments',\n\t\t\t\t\thref: `#/comments/${id}`,\n\t\t\t\t\tclasses: css.link\n\t\t\t\t}, [ commentText ])\n\t\t\t])\n\t\t];\n\n\t}\n\n\tprotected render() {\n\t\tconst { item, index, pageNumber } = this.properties;\n\t\tconst articleNumber = `${(pageNumber - 1) * 30 + index + 1}`;\n\n\t\treturn v('article', { classes: css.root }, [\n\t\t\tv('span', { classes: css.pageNumber }, [ articleNumber ]),\n\t\t\tv('div', {\n\t\t\t\tkey: index,\n\t\t\t\tclasses: css.post\n\t\t\t}, item ? this._renderArticle(item) : this._articleShell())\n\t\t]);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Article.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"article\",\"root\":\"_25Pck9HL\",\"pageNumber\":\"_2w4AqmJQ\",\"post\":\"_3XB5fE0_\",\"title\":\"_3LLrYYZ1\",\"details\":\"_1V_edkRC\",\"link\":\"_2iNp8P4w\",\"comments\":\"_2cpI_Mjd\",\"animated\":\"_2V3_tXBL\",\"placeHolderShimmer\":\"_1Bp0AL0K\",\"animatedTitle\":\"p2vwPrI-\",\"animatedSubTitle\":\"_1lBoojPu\",\"titleShell\":\"_2Ku851Pk\",\"subtitleShell\":\"_1bX4ME4k\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/article.m.css\n// module id = 31\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"content\",\"pageLink\":\"_2LM_mtSl\",\"pagination\":\"_2z4dHPNL\",\"pageNumber\":\"_6qE-Cese\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/content.m.css\n// module id = 32\n// module chunks = 0","import { Container } from '@dojo/widget-core/Container';\n\nimport { Context } from './../Context';\nimport { Comments, CommentsProperties } from './../widgets/Comments';\n\nfunction getProperties(context: Context, properties: CommentsProperties): CommentsProperties {\n\tconst { id } = properties;\n\n\treturn {\n\t\titem: context.item,\n\t\tid\n\t};\n}\n\nexport const CommentsContainer = Container(Comments, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/CommentsContainer.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\n\nimport { ArticleItem } from './../interfaces';\nimport { Comment } from './Comment';\nimport { Loading } from './Loading';\n\nimport * as css from './styles/comments.m.css';\n\nexport interface CommentsProperties {\n\tid: string;\n\titem?: ArticleItem;\n}\n\nexport class Comments extends WidgetBase<CommentsProperties> {\n\n\tprotected render() {\n\t\tconst { item } = this.properties;\n\n\t\treturn item ? [\n\t\t\tv('article', { classes: css.article }, [\n\t\t\t\tv('h1', [\n\t\t\t\t\tv('a', { href: item.url, classes: css.title }, [ item.title ])\n\t\t\t\t]),\n\t\t\t\tv('p', [\n\t\t\t\t\t`${item.points || 0} points`,\n\t\t\t\t\titem.user ? v('a', {\n\t\t\t\t\t\tkey: 'user',\n\t\t\t\t\t\thref: `#/user/${item.user}`,\n\t\t\t\t\t\tclasses: css.user\n\t\t\t\t\t}, [\n\t\t\t\t\t\t` by ${item.user}`\n\t\t\t\t\t]) : null\n\t\t\t\t])\n\t\t\t]),\n\t\t\tv('div', { classes: css.comments }, [\n\t\t\t\tv('h2', { classes: css.commentCount }, [ `${item.comments_count} comments` ]),\n\t\t\t\tv('div', item.comments.map((comment, index) => {\n\t\t\t\t\treturn w(Comment, { key: index, comment });\n\t\t\t\t}))\n\t\t\t])\n\t\t] : w(Loading, {});\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Comments.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\n\nimport { CommentItem } from './../interfaces';\nimport * as css from './styles/comment.m.css';\n\nexport interface CommentProperties {\n\tcomment: CommentItem;\n}\n\nexport class Comment extends WidgetBase<CommentProperties> {\n\n\tprotected render() {\n\t\tconst { comment: { user, content, time_ago, comments = [] } } = this.properties;\n\t\treturn v('div', { classes: css.root }, [\n\t\t\tv('header', { classes: css.padding }, [\n\t\t\t\tuser ? v('a', {\n\t\t\t\t\tkey: 'user',\n\t\t\t\t\thref: `#/user/${user}`,\n\t\t\t\t\tclasses: css.user\n\t\t\t\t}, [ user ]) : null,\n\t\t\t\tv('span', { classes: css.time }, [ time_ago ])\n\t\t\t]),\n\t\t\tv('div', { key: 'content', innerHTML: content, classes: css.comment }),\n\t\t\tv('div', { key: 'comments', classes: css.padding }, comments.map((comment, index) => {\n\t\t\t\treturn w(Comment, { comment, key: index });\n\t\t\t}))\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Comment.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"comment\",\"root\":\"pMN12bHs\",\"padding\":\"UR0OJAIy\",\"user\":\"_1dY2vtTm\",\"time\":\"_2Qtl0SzL\",\"comment\":\"_2va-73Cf\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/comment.m.css\n// module id = 36\n// module chunks = 0","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\n\nimport * as css from './styles/loading.m.css';\n\nexport class Loading extends WidgetBase {\n\trender() {\n\t\treturn v('div', { key: this.properties.key, classes: css.spinner });\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Loading.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"loading\",\"spinner\":\"_4Ju1HXhy\",\"sk-scaleout\":\"hC-Nk2Mx\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/loading.m.css\n// module id = 38\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"comments\",\"article\":\"_2NGniQ8a\",\"title\":\"_1L07Wn8k\",\"user\":\"_3iYvUP2G\",\"comments\":\"_2z1n0C37\",\"commentCount\":\"_1lGsJjrS\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/comments.m.css\n// module id = 39\n// module chunks = 0","import { Container } from '@dojo/widget-core/Container';\n\nimport { Context } from './../Context';\nimport { Menu, MenuProperties } from './../widgets/Menu';\n\nfunction getProperties(context: Context, properties: MenuProperties): MenuProperties {\n\treturn {\n\t\tcurrentCategory: context.category\n\t};\n}\n\nexport const MenuContainer = Container(Menu, 'state', { getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/MenuContainer.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v, w } from '@dojo/widget-core/d';\n\nimport { MenuItem } from './MenuItem';\nimport * as css from './styles/menu.m.css';\n\nconst categories = [ 'top', 'new', 'show', 'ask', 'jobs' ];\n\nexport interface MenuProperties {\n\tcurrentCategory?: string;\n}\n\nexport class Menu extends WidgetBase<MenuProperties> {\n\n\t// private _logoLoaded = false;\n\n\t// private _onLogoLoad() {\n\t// \tthis._logoLoaded = true;\n\t// \tthis.invalidate();\n\t// }\n\n\trender() {\n\t\tconst {currentCategory = '' } = this.properties;\n\n\t\treturn v('nav', { classes: css.root }, [\n\t\t\tv('a', { href: '#/top/1', classes: css.home }, [\n\t\t\t\t// v('img', { onload: this._onLogoLoad, classes: this._logoLoaded ? css.logoLoaded : css.logo, src: './img/logo.svg', alt: 'Home' })\n\t\t\t]),\n\t\t\tv('ol', { classes: css.menuContainer }, [ ...categories.map((category) => {\n\t\t\t\treturn w(MenuItem, {\n\t\t\t\t\tkey: category,\n\t\t\t\t\tselected: category === currentCategory,\n\t\t\t\t\tcategory\n\t\t\t\t}, [ category ]);\n\t\t\t})])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Menu.ts","import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { v } from '@dojo/widget-core/d';\n\nimport * as css from './styles/menuItem.m.css';\n\nexport interface MenuItemProperties {\n\tselected: boolean;\n\tcategory: string;\n}\n\nexport class MenuItem extends WidgetBase<MenuItemProperties> {\n\n\trender() {\n\t\tconst { selected } = this.properties;\n\n\t\treturn v('li', { classes: css.root }, [\n\t\t\tv('a', {\n\t\t\t\thref: `#/${this.properties.category}/1`,\n\t\t\t\tclasses: [ css.item, selected ? css.selected : null ]\n\t\t\t}, this.children)\n\t\t]);\n\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./node_modules/@dojo/cli-build-webpack/loaders/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/MenuItem.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"menuItem\",\"root\":\"_3nC3wHuO\",\"item\":\"_2otQ-Bk4\",\"selected\":\"_3H86Omvm\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/menuItem.m.css\n// module id = 43\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"menu\",\"root\":\"_34HPGizk\",\"menuContainer\":\"_1lZUlBuW\",\"home\":\"_3ExrLjEz\",\"logoLoaded\":\"_1EbSAPOw\",\"fadein\":\"_34vksMod\",\"logo\":\"_2cdP4aDq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/menu.m.css\n// module id = 44\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"app\",\"main\":\"NiAAEtki\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/app.m.css\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}